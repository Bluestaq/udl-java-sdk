// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.sigact

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import com.unifieddatalibrary.api.models.RelatedDocumentFull
import com.unifieddatalibrary.api.models.SofDataSourceRefFull
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class SigactTupleResponseTest {

    @Test
    fun create() {
        val sigactTupleResponse =
            SigactTupleResponse.builder()
                .classificationMarking("U")
                .dataMode(SigactTupleResponse.DataMode.TEST)
                .reportDate(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .source("Bluestaq")
                .id("SIGACT-ID")
                .accuracy(13)
                .addActor("US")
                .addActor("CAN")
                .agjson(
                    "{\"type\":\"Polygon\",\"coordinates\":[ [ [ 67.3291113966927, 26.156175339112 ], [ 67.2580009640721, 26.091022064271 ], [ 67.1795862381682, 26.6637992964562 ], [ 67.2501237475598, 26.730115808233 ], [ 67.3291113966927, 26.156175339112 ] ] ] }"
                )
                .andims(3L)
                .area(
                    "POLYGON((67.3291113966927 26.156175339112,67.2580009640721 26.091022064271,67.1795862381682 26.6637992964562,67.2501237475598 26.730115808233,67.3291113966927 26.156175339112))"
                )
                .asrid(3)
                .atext(
                    "POLYGON((67.3291113966927 26.156175339112,67.2580009640721 26.091022064271,67.1795862381682 26.6637992964562,67.2501237475598 26.730115808233,67.3291113966927 26.156175339112))"
                )
                .atype("Type1")
                .avgTone(8.23)
                .cameoBaseCode("Example_cameoBaseCode")
                .cameoCode("CAMEO_CODE")
                .cameoRootCode("Example_cameoRootCode")
                .checksumValue("120EA8A25E5D487BF68B5F7096440019")
                .city("Austin")
                .civAbd(423)
                .civDet(234)
                .civKia(2)
                .civWound(123)
                .clarity(1)
                .coalAbd(123)
                .coalDet(123)
                .coalKia(123)
                .coalWound(123)
                .complexAttack(false)
                .confidence(13)
                .countryCode("US")
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .district("district 12")
                .documentFilename("Example_documentFilename")
                .documentSource("Example_documentSource")
                .enemyAbd(123)
                .enemyDet(123)
                .enemyKia(123)
                .eventDescription("Example_Description")
                .eventEnd(OffsetDateTime.parse("2021-01-01T01:02:03.123Z"))
                .eventStart(OffsetDateTime.parse("2021-01-01T01:02:03.123Z"))
                .eventType("Military")
                .filesize(0L)
                .friendlyAbd(123)
                .friendlyDet(123)
                .friendlyKia(123)
                .friendlyWound(123)
                .goldstein(9.32)
                .hasAttachment(true)
                .hostNatAbd(123)
                .hostNatDet(123)
                .hostNatKia(123)
                .hostNatWound(123)
                .idNumber("NUMBER-ID")
                .lat(45.31)
                .lon(90.23)
                .milgrid("4QFJ12345678")
                .notes("Example_Notes")
                .numArticles(8)
                .numMentions(8)
                .numSources(8)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("ORIG")
                .province("Province_Example")
                .addRelatedDoc(
                    RelatedDocumentFull.builder()
                        .addDataSourceRef(
                            SofDataSourceRefFull.builder()
                                .dataSourceId("dataSourceId")
                                .endPosition("endPosition")
                                .paragraphNumber("paragraphNumber")
                                .sentenceNumber("sentenceNumber")
                                .startPosition("startPosition")
                                .build()
                        )
                        .documentId("documentId")
                        .build()
                )
                .repUnit("Unit_1")
                .repUnitActivity("Example_Activity")
                .repUnitType("Example_repUnitType")
                .sideAAbd(123)
                .sideADet(123)
                .sideAkia(123)
                .sideAWound(123)
                .sideBAbd(123)
                .sideBDet(123)
                .sideBkia(123)
                .sideBWound(123)
                .sourceLanguage("eng")
                .sourceUrl("Example_URL")
                .summary("Example_Summary")
                .target("US")
                .theater("Kabul")
                .typeOfAttack("IED Explosion")
                .build()

        assertThat(sigactTupleResponse.classificationMarking()).isEqualTo("U")
        assertThat(sigactTupleResponse.dataMode()).isEqualTo(SigactTupleResponse.DataMode.TEST)
        assertThat(sigactTupleResponse.reportDate())
            .isEqualTo(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(sigactTupleResponse.source()).isEqualTo("Bluestaq")
        assertThat(sigactTupleResponse.id()).contains("SIGACT-ID")
        assertThat(sigactTupleResponse.accuracy()).contains(13)
        assertThat(sigactTupleResponse.actors().getOrNull()).containsExactly("US", "CAN")
        assertThat(sigactTupleResponse.agjson())
            .contains(
                "{\"type\":\"Polygon\",\"coordinates\":[ [ [ 67.3291113966927, 26.156175339112 ], [ 67.2580009640721, 26.091022064271 ], [ 67.1795862381682, 26.6637992964562 ], [ 67.2501237475598, 26.730115808233 ], [ 67.3291113966927, 26.156175339112 ] ] ] }"
            )
        assertThat(sigactTupleResponse.andims()).contains(3L)
        assertThat(sigactTupleResponse.area())
            .contains(
                "POLYGON((67.3291113966927 26.156175339112,67.2580009640721 26.091022064271,67.1795862381682 26.6637992964562,67.2501237475598 26.730115808233,67.3291113966927 26.156175339112))"
            )
        assertThat(sigactTupleResponse.asrid()).contains(3)
        assertThat(sigactTupleResponse.atext())
            .contains(
                "POLYGON((67.3291113966927 26.156175339112,67.2580009640721 26.091022064271,67.1795862381682 26.6637992964562,67.2501237475598 26.730115808233,67.3291113966927 26.156175339112))"
            )
        assertThat(sigactTupleResponse.atype()).contains("Type1")
        assertThat(sigactTupleResponse.avgTone()).contains(8.23)
        assertThat(sigactTupleResponse.cameoBaseCode()).contains("Example_cameoBaseCode")
        assertThat(sigactTupleResponse.cameoCode()).contains("CAMEO_CODE")
        assertThat(sigactTupleResponse.cameoRootCode()).contains("Example_cameoRootCode")
        assertThat(sigactTupleResponse.checksumValue()).contains("120EA8A25E5D487BF68B5F7096440019")
        assertThat(sigactTupleResponse.city()).contains("Austin")
        assertThat(sigactTupleResponse.civAbd()).contains(423)
        assertThat(sigactTupleResponse.civDet()).contains(234)
        assertThat(sigactTupleResponse.civKia()).contains(2)
        assertThat(sigactTupleResponse.civWound()).contains(123)
        assertThat(sigactTupleResponse.clarity()).contains(1)
        assertThat(sigactTupleResponse.coalAbd()).contains(123)
        assertThat(sigactTupleResponse.coalDet()).contains(123)
        assertThat(sigactTupleResponse.coalKia()).contains(123)
        assertThat(sigactTupleResponse.coalWound()).contains(123)
        assertThat(sigactTupleResponse.complexAttack()).contains(false)
        assertThat(sigactTupleResponse.confidence()).contains(13)
        assertThat(sigactTupleResponse.countryCode()).contains("US")
        assertThat(sigactTupleResponse.createdAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(sigactTupleResponse.createdBy()).contains("some.user")
        assertThat(sigactTupleResponse.district()).contains("district 12")
        assertThat(sigactTupleResponse.documentFilename()).contains("Example_documentFilename")
        assertThat(sigactTupleResponse.documentSource()).contains("Example_documentSource")
        assertThat(sigactTupleResponse.enemyAbd()).contains(123)
        assertThat(sigactTupleResponse.enemyDet()).contains(123)
        assertThat(sigactTupleResponse.enemyKia()).contains(123)
        assertThat(sigactTupleResponse.eventDescription()).contains("Example_Description")
        assertThat(sigactTupleResponse.eventEnd())
            .contains(OffsetDateTime.parse("2021-01-01T01:02:03.123Z"))
        assertThat(sigactTupleResponse.eventStart())
            .contains(OffsetDateTime.parse("2021-01-01T01:02:03.123Z"))
        assertThat(sigactTupleResponse.eventType()).contains("Military")
        assertThat(sigactTupleResponse.filesize()).contains(0L)
        assertThat(sigactTupleResponse.friendlyAbd()).contains(123)
        assertThat(sigactTupleResponse.friendlyDet()).contains(123)
        assertThat(sigactTupleResponse.friendlyKia()).contains(123)
        assertThat(sigactTupleResponse.friendlyWound()).contains(123)
        assertThat(sigactTupleResponse.goldstein()).contains(9.32)
        assertThat(sigactTupleResponse.hasAttachment()).contains(true)
        assertThat(sigactTupleResponse.hostNatAbd()).contains(123)
        assertThat(sigactTupleResponse.hostNatDet()).contains(123)
        assertThat(sigactTupleResponse.hostNatKia()).contains(123)
        assertThat(sigactTupleResponse.hostNatWound()).contains(123)
        assertThat(sigactTupleResponse.idNumber()).contains("NUMBER-ID")
        assertThat(sigactTupleResponse.lat()).contains(45.31)
        assertThat(sigactTupleResponse.lon()).contains(90.23)
        assertThat(sigactTupleResponse.milgrid()).contains("4QFJ12345678")
        assertThat(sigactTupleResponse.notes()).contains("Example_Notes")
        assertThat(sigactTupleResponse.numArticles()).contains(8)
        assertThat(sigactTupleResponse.numMentions()).contains(8)
        assertThat(sigactTupleResponse.numSources()).contains(8)
        assertThat(sigactTupleResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(sigactTupleResponse.origNetwork()).contains("ORIG")
        assertThat(sigactTupleResponse.province()).contains("Province_Example")
        assertThat(sigactTupleResponse.relatedDocs().getOrNull())
            .containsExactly(
                RelatedDocumentFull.builder()
                    .addDataSourceRef(
                        SofDataSourceRefFull.builder()
                            .dataSourceId("dataSourceId")
                            .endPosition("endPosition")
                            .paragraphNumber("paragraphNumber")
                            .sentenceNumber("sentenceNumber")
                            .startPosition("startPosition")
                            .build()
                    )
                    .documentId("documentId")
                    .build()
            )
        assertThat(sigactTupleResponse.repUnit()).contains("Unit_1")
        assertThat(sigactTupleResponse.repUnitActivity()).contains("Example_Activity")
        assertThat(sigactTupleResponse.repUnitType()).contains("Example_repUnitType")
        assertThat(sigactTupleResponse.sideAAbd()).contains(123)
        assertThat(sigactTupleResponse.sideADet()).contains(123)
        assertThat(sigactTupleResponse.sideAkia()).contains(123)
        assertThat(sigactTupleResponse.sideAWound()).contains(123)
        assertThat(sigactTupleResponse.sideBAbd()).contains(123)
        assertThat(sigactTupleResponse.sideBDet()).contains(123)
        assertThat(sigactTupleResponse.sideBkia()).contains(123)
        assertThat(sigactTupleResponse.sideBWound()).contains(123)
        assertThat(sigactTupleResponse.sourceLanguage()).contains("eng")
        assertThat(sigactTupleResponse.sourceUrl()).contains("Example_URL")
        assertThat(sigactTupleResponse.summary()).contains("Example_Summary")
        assertThat(sigactTupleResponse.target()).contains("US")
        assertThat(sigactTupleResponse.theater()).contains("Kabul")
        assertThat(sigactTupleResponse.typeOfAttack()).contains("IED Explosion")
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val sigactTupleResponse =
            SigactTupleResponse.builder()
                .classificationMarking("U")
                .dataMode(SigactTupleResponse.DataMode.TEST)
                .reportDate(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .source("Bluestaq")
                .id("SIGACT-ID")
                .accuracy(13)
                .addActor("US")
                .addActor("CAN")
                .agjson(
                    "{\"type\":\"Polygon\",\"coordinates\":[ [ [ 67.3291113966927, 26.156175339112 ], [ 67.2580009640721, 26.091022064271 ], [ 67.1795862381682, 26.6637992964562 ], [ 67.2501237475598, 26.730115808233 ], [ 67.3291113966927, 26.156175339112 ] ] ] }"
                )
                .andims(3L)
                .area(
                    "POLYGON((67.3291113966927 26.156175339112,67.2580009640721 26.091022064271,67.1795862381682 26.6637992964562,67.2501237475598 26.730115808233,67.3291113966927 26.156175339112))"
                )
                .asrid(3)
                .atext(
                    "POLYGON((67.3291113966927 26.156175339112,67.2580009640721 26.091022064271,67.1795862381682 26.6637992964562,67.2501237475598 26.730115808233,67.3291113966927 26.156175339112))"
                )
                .atype("Type1")
                .avgTone(8.23)
                .cameoBaseCode("Example_cameoBaseCode")
                .cameoCode("CAMEO_CODE")
                .cameoRootCode("Example_cameoRootCode")
                .checksumValue("120EA8A25E5D487BF68B5F7096440019")
                .city("Austin")
                .civAbd(423)
                .civDet(234)
                .civKia(2)
                .civWound(123)
                .clarity(1)
                .coalAbd(123)
                .coalDet(123)
                .coalKia(123)
                .coalWound(123)
                .complexAttack(false)
                .confidence(13)
                .countryCode("US")
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .district("district 12")
                .documentFilename("Example_documentFilename")
                .documentSource("Example_documentSource")
                .enemyAbd(123)
                .enemyDet(123)
                .enemyKia(123)
                .eventDescription("Example_Description")
                .eventEnd(OffsetDateTime.parse("2021-01-01T01:02:03.123Z"))
                .eventStart(OffsetDateTime.parse("2021-01-01T01:02:03.123Z"))
                .eventType("Military")
                .filesize(0L)
                .friendlyAbd(123)
                .friendlyDet(123)
                .friendlyKia(123)
                .friendlyWound(123)
                .goldstein(9.32)
                .hasAttachment(true)
                .hostNatAbd(123)
                .hostNatDet(123)
                .hostNatKia(123)
                .hostNatWound(123)
                .idNumber("NUMBER-ID")
                .lat(45.31)
                .lon(90.23)
                .milgrid("4QFJ12345678")
                .notes("Example_Notes")
                .numArticles(8)
                .numMentions(8)
                .numSources(8)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("ORIG")
                .province("Province_Example")
                .addRelatedDoc(
                    RelatedDocumentFull.builder()
                        .addDataSourceRef(
                            SofDataSourceRefFull.builder()
                                .dataSourceId("dataSourceId")
                                .endPosition("endPosition")
                                .paragraphNumber("paragraphNumber")
                                .sentenceNumber("sentenceNumber")
                                .startPosition("startPosition")
                                .build()
                        )
                        .documentId("documentId")
                        .build()
                )
                .repUnit("Unit_1")
                .repUnitActivity("Example_Activity")
                .repUnitType("Example_repUnitType")
                .sideAAbd(123)
                .sideADet(123)
                .sideAkia(123)
                .sideAWound(123)
                .sideBAbd(123)
                .sideBDet(123)
                .sideBkia(123)
                .sideBWound(123)
                .sourceLanguage("eng")
                .sourceUrl("Example_URL")
                .summary("Example_Summary")
                .target("US")
                .theater("Kabul")
                .typeOfAttack("IED Explosion")
                .build()

        val roundtrippedSigactTupleResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(sigactTupleResponse),
                jacksonTypeRef<SigactTupleResponse>(),
            )

        assertThat(roundtrippedSigactTupleResponse).isEqualTo(sigactTupleResponse)
    }
}
