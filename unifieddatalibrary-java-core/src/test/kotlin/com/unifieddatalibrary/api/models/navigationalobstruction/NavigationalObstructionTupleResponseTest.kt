// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.navigationalobstruction

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import java.time.LocalDate
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class NavigationalObstructionTupleResponseTest {

    @Test
    fun create() {
        val navigationalObstructionTupleResponse =
            NavigationalObstructionTupleResponse.builder()
                .classificationMarking("U")
                .cycleDate(LocalDate.parse("2024-06-13"))
                .dataMode(NavigationalObstructionTupleResponse.DataMode.TEST)
                .obstacleId("359655")
                .obstacleType("V")
                .source("Bluestaq")
                .id("026dd511-8ba5-47d3-9909-836149f87686")
                .actDelCode("A")
                .airacCycle(2406)
                .baseAiracCycle(2405)
                .baselineCutoffDate(LocalDate.parse("2024-04-23"))
                .boundNeLat(29.1)
                .boundNeLon(99.1)
                .boundSwLat(-44.1)
                .boundSwLon(-144.1)
                .countryCode("US")
                .createdAt(OffsetDateTime.parse("2022-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .cutoffDate(LocalDate.parse("2024-05-21"))
                .dataSetRemarks("Data set remarks")
                .deletingOrg("ACME")
                .derivingOrg("ACME")
                .directivityCode(2)
                .elevation(840.1)
                .elevationAcc(17.1)
                .externalId("OU812")
                .facc("AT040")
                .featureCode("540")
                .featureDescription("Powerline Pylon, General")
                .featureName("PYLON")
                .featureType("540")
                .heightAgl(314.1)
                .heightAglAcc(30.1)
                .heightMsl(1154.1)
                .heightMslAcc(34.1)
                .horizAcc(8.1)
                .horizDatumCode("WGS-84")
                .initRecordDate(LocalDate.parse("1991-03-28"))
                .addKey("key1")
                .addKey("key2")
                .lightingCode("U")
                .lineNeLat(49.000584)
                .lineNeLon(-122.197891)
                .linesFilename("lines.txt")
                .lineSwLat(48.507027)
                .lineSwLon(-122.722946)
                .minHeightAgl(20.1)
                .multObs("S")
                .nextCycleDate(LocalDate.parse("2024-07-11"))
                .numLines(45993)
                .numObs(1)
                .numPoints(21830590)
                .obstacleRemarks("Obstacle remarks")
                .origId("L0000002289")
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .ownerCountryCode("US")
                .pointLat(46.757211)
                .pointLon(-67.759494)
                .pointsFilename("points.txt")
                .processCode("OT")
                .producer("ACME")
                .provinceCode("23")
                .quality("0")
                .revDate(LocalDate.parse("2020-02-26"))
                .segEndPoint(359655)
                .segNum(1)
                .segStartPoint(359655)
                .sourceDate(LocalDate.parse("2016-04-01"))
                .sourceDl("AXE")
                .surfaceMatCode("U")
                .transactionCode("V")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .validationCode(3)
                .addValue("value1")
                .addValue("value2")
                .vectorsFilename("vectors.txt")
                .wac("262")
                .wacInnr("0409-00039")
                .build()

        assertThat(navigationalObstructionTupleResponse.classificationMarking()).isEqualTo("U")
        assertThat(navigationalObstructionTupleResponse.cycleDate())
            .isEqualTo(LocalDate.parse("2024-06-13"))
        assertThat(navigationalObstructionTupleResponse.dataMode())
            .isEqualTo(NavigationalObstructionTupleResponse.DataMode.TEST)
        assertThat(navigationalObstructionTupleResponse.obstacleId()).isEqualTo("359655")
        assertThat(navigationalObstructionTupleResponse.obstacleType()).isEqualTo("V")
        assertThat(navigationalObstructionTupleResponse.source()).isEqualTo("Bluestaq")
        assertThat(navigationalObstructionTupleResponse.id())
            .contains("026dd511-8ba5-47d3-9909-836149f87686")
        assertThat(navigationalObstructionTupleResponse.actDelCode()).contains("A")
        assertThat(navigationalObstructionTupleResponse.airacCycle()).contains(2406)
        assertThat(navigationalObstructionTupleResponse.baseAiracCycle()).contains(2405)
        assertThat(navigationalObstructionTupleResponse.baselineCutoffDate())
            .contains(LocalDate.parse("2024-04-23"))
        assertThat(navigationalObstructionTupleResponse.boundNeLat()).contains(29.1)
        assertThat(navigationalObstructionTupleResponse.boundNeLon()).contains(99.1)
        assertThat(navigationalObstructionTupleResponse.boundSwLat()).contains(-44.1)
        assertThat(navigationalObstructionTupleResponse.boundSwLon()).contains(-144.1)
        assertThat(navigationalObstructionTupleResponse.countryCode()).contains("US")
        assertThat(navigationalObstructionTupleResponse.createdAt())
            .contains(OffsetDateTime.parse("2022-01-01T16:00:00.123Z"))
        assertThat(navigationalObstructionTupleResponse.createdBy()).contains("some.user")
        assertThat(navigationalObstructionTupleResponse.cutoffDate())
            .contains(LocalDate.parse("2024-05-21"))
        assertThat(navigationalObstructionTupleResponse.dataSetRemarks())
            .contains("Data set remarks")
        assertThat(navigationalObstructionTupleResponse.deletingOrg()).contains("ACME")
        assertThat(navigationalObstructionTupleResponse.derivingOrg()).contains("ACME")
        assertThat(navigationalObstructionTupleResponse.directivityCode()).contains(2)
        assertThat(navigationalObstructionTupleResponse.elevation()).contains(840.1)
        assertThat(navigationalObstructionTupleResponse.elevationAcc()).contains(17.1)
        assertThat(navigationalObstructionTupleResponse.externalId()).contains("OU812")
        assertThat(navigationalObstructionTupleResponse.facc()).contains("AT040")
        assertThat(navigationalObstructionTupleResponse.featureCode()).contains("540")
        assertThat(navigationalObstructionTupleResponse.featureDescription())
            .contains("Powerline Pylon, General")
        assertThat(navigationalObstructionTupleResponse.featureName()).contains("PYLON")
        assertThat(navigationalObstructionTupleResponse.featureType()).contains("540")
        assertThat(navigationalObstructionTupleResponse.heightAgl()).contains(314.1)
        assertThat(navigationalObstructionTupleResponse.heightAglAcc()).contains(30.1)
        assertThat(navigationalObstructionTupleResponse.heightMsl()).contains(1154.1)
        assertThat(navigationalObstructionTupleResponse.heightMslAcc()).contains(34.1)
        assertThat(navigationalObstructionTupleResponse.horizAcc()).contains(8.1)
        assertThat(navigationalObstructionTupleResponse.horizDatumCode()).contains("WGS-84")
        assertThat(navigationalObstructionTupleResponse.initRecordDate())
            .contains(LocalDate.parse("1991-03-28"))
        assertThat(navigationalObstructionTupleResponse.keys().getOrNull())
            .containsExactly("key1", "key2")
        assertThat(navigationalObstructionTupleResponse.lightingCode()).contains("U")
        assertThat(navigationalObstructionTupleResponse.lineNeLat()).contains(49.000584)
        assertThat(navigationalObstructionTupleResponse.lineNeLon()).contains(-122.197891)
        assertThat(navigationalObstructionTupleResponse.linesFilename()).contains("lines.txt")
        assertThat(navigationalObstructionTupleResponse.lineSwLat()).contains(48.507027)
        assertThat(navigationalObstructionTupleResponse.lineSwLon()).contains(-122.722946)
        assertThat(navigationalObstructionTupleResponse.minHeightAgl()).contains(20.1)
        assertThat(navigationalObstructionTupleResponse.multObs()).contains("S")
        assertThat(navigationalObstructionTupleResponse.nextCycleDate())
            .contains(LocalDate.parse("2024-07-11"))
        assertThat(navigationalObstructionTupleResponse.numLines()).contains(45993)
        assertThat(navigationalObstructionTupleResponse.numObs()).contains(1)
        assertThat(navigationalObstructionTupleResponse.numPoints()).contains(21830590)
        assertThat(navigationalObstructionTupleResponse.obstacleRemarks())
            .contains("Obstacle remarks")
        assertThat(navigationalObstructionTupleResponse.origId()).contains("L0000002289")
        assertThat(navigationalObstructionTupleResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(navigationalObstructionTupleResponse.origNetwork()).contains("OPS1")
        assertThat(navigationalObstructionTupleResponse.ownerCountryCode()).contains("US")
        assertThat(navigationalObstructionTupleResponse.pointLat()).contains(46.757211)
        assertThat(navigationalObstructionTupleResponse.pointLon()).contains(-67.759494)
        assertThat(navigationalObstructionTupleResponse.pointsFilename()).contains("points.txt")
        assertThat(navigationalObstructionTupleResponse.processCode()).contains("OT")
        assertThat(navigationalObstructionTupleResponse.producer()).contains("ACME")
        assertThat(navigationalObstructionTupleResponse.provinceCode()).contains("23")
        assertThat(navigationalObstructionTupleResponse.quality()).contains("0")
        assertThat(navigationalObstructionTupleResponse.revDate())
            .contains(LocalDate.parse("2020-02-26"))
        assertThat(navigationalObstructionTupleResponse.segEndPoint()).contains(359655)
        assertThat(navigationalObstructionTupleResponse.segNum()).contains(1)
        assertThat(navigationalObstructionTupleResponse.segStartPoint()).contains(359655)
        assertThat(navigationalObstructionTupleResponse.sourceDate())
            .contains(LocalDate.parse("2016-04-01"))
        assertThat(navigationalObstructionTupleResponse.sourceDl()).contains("AXE")
        assertThat(navigationalObstructionTupleResponse.surfaceMatCode()).contains("U")
        assertThat(navigationalObstructionTupleResponse.transactionCode()).contains("V")
        assertThat(navigationalObstructionTupleResponse.updatedAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(navigationalObstructionTupleResponse.updatedBy()).contains("some.user")
        assertThat(navigationalObstructionTupleResponse.validationCode()).contains(3)
        assertThat(navigationalObstructionTupleResponse.values().getOrNull())
            .containsExactly("value1", "value2")
        assertThat(navigationalObstructionTupleResponse.vectorsFilename()).contains("vectors.txt")
        assertThat(navigationalObstructionTupleResponse.wac()).contains("262")
        assertThat(navigationalObstructionTupleResponse.wacInnr()).contains("0409-00039")
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val navigationalObstructionTupleResponse =
            NavigationalObstructionTupleResponse.builder()
                .classificationMarking("U")
                .cycleDate(LocalDate.parse("2024-06-13"))
                .dataMode(NavigationalObstructionTupleResponse.DataMode.TEST)
                .obstacleId("359655")
                .obstacleType("V")
                .source("Bluestaq")
                .id("026dd511-8ba5-47d3-9909-836149f87686")
                .actDelCode("A")
                .airacCycle(2406)
                .baseAiracCycle(2405)
                .baselineCutoffDate(LocalDate.parse("2024-04-23"))
                .boundNeLat(29.1)
                .boundNeLon(99.1)
                .boundSwLat(-44.1)
                .boundSwLon(-144.1)
                .countryCode("US")
                .createdAt(OffsetDateTime.parse("2022-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .cutoffDate(LocalDate.parse("2024-05-21"))
                .dataSetRemarks("Data set remarks")
                .deletingOrg("ACME")
                .derivingOrg("ACME")
                .directivityCode(2)
                .elevation(840.1)
                .elevationAcc(17.1)
                .externalId("OU812")
                .facc("AT040")
                .featureCode("540")
                .featureDescription("Powerline Pylon, General")
                .featureName("PYLON")
                .featureType("540")
                .heightAgl(314.1)
                .heightAglAcc(30.1)
                .heightMsl(1154.1)
                .heightMslAcc(34.1)
                .horizAcc(8.1)
                .horizDatumCode("WGS-84")
                .initRecordDate(LocalDate.parse("1991-03-28"))
                .addKey("key1")
                .addKey("key2")
                .lightingCode("U")
                .lineNeLat(49.000584)
                .lineNeLon(-122.197891)
                .linesFilename("lines.txt")
                .lineSwLat(48.507027)
                .lineSwLon(-122.722946)
                .minHeightAgl(20.1)
                .multObs("S")
                .nextCycleDate(LocalDate.parse("2024-07-11"))
                .numLines(45993)
                .numObs(1)
                .numPoints(21830590)
                .obstacleRemarks("Obstacle remarks")
                .origId("L0000002289")
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .ownerCountryCode("US")
                .pointLat(46.757211)
                .pointLon(-67.759494)
                .pointsFilename("points.txt")
                .processCode("OT")
                .producer("ACME")
                .provinceCode("23")
                .quality("0")
                .revDate(LocalDate.parse("2020-02-26"))
                .segEndPoint(359655)
                .segNum(1)
                .segStartPoint(359655)
                .sourceDate(LocalDate.parse("2016-04-01"))
                .sourceDl("AXE")
                .surfaceMatCode("U")
                .transactionCode("V")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .validationCode(3)
                .addValue("value1")
                .addValue("value2")
                .vectorsFilename("vectors.txt")
                .wac("262")
                .wacInnr("0409-00039")
                .build()

        val roundtrippedNavigationalObstructionTupleResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(navigationalObstructionTupleResponse),
                jacksonTypeRef<NavigationalObstructionTupleResponse>(),
            )

        assertThat(roundtrippedNavigationalObstructionTupleResponse)
            .isEqualTo(navigationalObstructionTupleResponse)
    }
}
