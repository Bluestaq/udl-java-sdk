// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.observations.monoradar.history

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class HistoryListResponseTest {

    @Test
    fun create() {
        val historyListResponse =
            HistoryListResponse.builder()
                .classificationMarking("U")
                .dataMode(HistoryListResponse.DataMode.TEST)
                .msgfmt("CAT48")
                .msgts(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .msgtyp("BCN")
                .source("Bluestaq")
                .ts(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .id("MONORADAR-ID")
                .acp(100)
                .addr("ADDR-ID")
                .af(true)
                .aims(true)
                .alt3d(100.23)
                .artsqual("QUALITY")
                .az(100.23)
                .azdelt(44.23)
                .bcnhits(12)
                .addCartpo(1.2)
                .addCartpo(2.2)
                .cdm("CDM")
                .code7500(false)
                .code7600(false)
                .code7700(false)
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .faa(true)
                .grndspd(30.23)
                .hdng(30.23)
                .idSensor("REF-SENSOR-ID")
                .m1("MISSION_CODE")
                .m1g(true)
                .m1v("M1V")
                .m2("MILITARY_ID_CODE")
                .m2g(true)
                .m2v("M2V")
                .m2xv("M2XV")
                .m3a("AIRCRAFT_ID")
                .m3ag(true)
                .m3av("M3AV")
                .m3axv("M3AXV")
                .m4("ID_FRIEND")
                .m4d1d2("STATUS")
                .m4v("M4V")
                .mah("MAH")
                .mc(100.23)
                .mcg(true)
                .mcv("MCV")
                .milemrgcy(false)
                .mrgrpt(true)
                .mscommb("MSCOMMB")
                .mti(true)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origSensorId("ORIGSENSOR-ID")
                .psrrl(44.23)
                .rad("RAD")
                .rng(100.23)
                .rngdelt(44.23)
                .sac(10)
                .senalt(100.23)
                .senlat(45.23)
                .senlon(45.23)
                .sic(40)
                .spi(true)
                .ssrl(44.23)
                .addTag("TAG1")
                .addTag("TAG2")
                .tgtconf("CONFIDENCE")
                .tgtcorr("CORRELATION")
                .tgtid("TGT-ID")
                .tis(0.4)
                .trkelig("ELIGIBILITY")
                .trknum(30)
                .tti("TTI")
                .addWectc("WARNING")
                .addWectc("WARNING")
                .build()

        assertThat(historyListResponse.classificationMarking()).isEqualTo("U")
        assertThat(historyListResponse.dataMode()).isEqualTo(HistoryListResponse.DataMode.TEST)
        assertThat(historyListResponse.msgfmt()).isEqualTo("CAT48")
        assertThat(historyListResponse.msgts())
            .isEqualTo(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
        assertThat(historyListResponse.msgtyp()).isEqualTo("BCN")
        assertThat(historyListResponse.source()).isEqualTo("Bluestaq")
        assertThat(historyListResponse.ts())
            .isEqualTo(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
        assertThat(historyListResponse.id()).contains("MONORADAR-ID")
        assertThat(historyListResponse.acp()).contains(100)
        assertThat(historyListResponse.addr()).contains("ADDR-ID")
        assertThat(historyListResponse.af()).contains(true)
        assertThat(historyListResponse.aims()).contains(true)
        assertThat(historyListResponse.alt3d()).contains(100.23)
        assertThat(historyListResponse.artsqual()).contains("QUALITY")
        assertThat(historyListResponse.az()).contains(100.23)
        assertThat(historyListResponse.azdelt()).contains(44.23)
        assertThat(historyListResponse.bcnhits()).contains(12)
        assertThat(historyListResponse.cartpos().getOrNull()).containsExactly(1.2, 2.2)
        assertThat(historyListResponse.cdm()).contains("CDM")
        assertThat(historyListResponse.code7500()).contains(false)
        assertThat(historyListResponse.code7600()).contains(false)
        assertThat(historyListResponse.code7700()).contains(false)
        assertThat(historyListResponse.createdAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(historyListResponse.createdBy()).contains("some.user")
        assertThat(historyListResponse.faa()).contains(true)
        assertThat(historyListResponse.grndspd()).contains(30.23)
        assertThat(historyListResponse.hdng()).contains(30.23)
        assertThat(historyListResponse.idSensor()).contains("REF-SENSOR-ID")
        assertThat(historyListResponse.m1()).contains("MISSION_CODE")
        assertThat(historyListResponse.m1g()).contains(true)
        assertThat(historyListResponse.m1v()).contains("M1V")
        assertThat(historyListResponse.m2()).contains("MILITARY_ID_CODE")
        assertThat(historyListResponse.m2g()).contains(true)
        assertThat(historyListResponse.m2v()).contains("M2V")
        assertThat(historyListResponse.m2xv()).contains("M2XV")
        assertThat(historyListResponse.m3a()).contains("AIRCRAFT_ID")
        assertThat(historyListResponse.m3ag()).contains(true)
        assertThat(historyListResponse.m3av()).contains("M3AV")
        assertThat(historyListResponse.m3axv()).contains("M3AXV")
        assertThat(historyListResponse.m4()).contains("ID_FRIEND")
        assertThat(historyListResponse.m4d1d2()).contains("STATUS")
        assertThat(historyListResponse.m4v()).contains("M4V")
        assertThat(historyListResponse.mah()).contains("MAH")
        assertThat(historyListResponse.mc()).contains(100.23)
        assertThat(historyListResponse.mcg()).contains(true)
        assertThat(historyListResponse.mcv()).contains("MCV")
        assertThat(historyListResponse.milemrgcy()).contains(false)
        assertThat(historyListResponse.mrgrpt()).contains(true)
        assertThat(historyListResponse.mscommb()).contains("MSCOMMB")
        assertThat(historyListResponse.mti()).contains(true)
        assertThat(historyListResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(historyListResponse.origNetwork()).contains("OPS1")
        assertThat(historyListResponse.origSensorId()).contains("ORIGSENSOR-ID")
        assertThat(historyListResponse.psrrl()).contains(44.23)
        assertThat(historyListResponse.rad()).contains("RAD")
        assertThat(historyListResponse.rng()).contains(100.23)
        assertThat(historyListResponse.rngdelt()).contains(44.23)
        assertThat(historyListResponse.sac()).contains(10)
        assertThat(historyListResponse.senalt()).contains(100.23)
        assertThat(historyListResponse.senlat()).contains(45.23)
        assertThat(historyListResponse.senlon()).contains(45.23)
        assertThat(historyListResponse.sic()).contains(40)
        assertThat(historyListResponse.spi()).contains(true)
        assertThat(historyListResponse.ssrl()).contains(44.23)
        assertThat(historyListResponse.tags().getOrNull()).containsExactly("TAG1", "TAG2")
        assertThat(historyListResponse.tgtconf()).contains("CONFIDENCE")
        assertThat(historyListResponse.tgtcorr()).contains("CORRELATION")
        assertThat(historyListResponse.tgtid()).contains("TGT-ID")
        assertThat(historyListResponse.tis()).contains(0.4)
        assertThat(historyListResponse.trkelig()).contains("ELIGIBILITY")
        assertThat(historyListResponse.trknum()).contains(30)
        assertThat(historyListResponse.tti()).contains("TTI")
        assertThat(historyListResponse.wectc().getOrNull()).containsExactly("WARNING", "WARNING")
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val historyListResponse =
            HistoryListResponse.builder()
                .classificationMarking("U")
                .dataMode(HistoryListResponse.DataMode.TEST)
                .msgfmt("CAT48")
                .msgts(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .msgtyp("BCN")
                .source("Bluestaq")
                .ts(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .id("MONORADAR-ID")
                .acp(100)
                .addr("ADDR-ID")
                .af(true)
                .aims(true)
                .alt3d(100.23)
                .artsqual("QUALITY")
                .az(100.23)
                .azdelt(44.23)
                .bcnhits(12)
                .addCartpo(1.2)
                .addCartpo(2.2)
                .cdm("CDM")
                .code7500(false)
                .code7600(false)
                .code7700(false)
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .faa(true)
                .grndspd(30.23)
                .hdng(30.23)
                .idSensor("REF-SENSOR-ID")
                .m1("MISSION_CODE")
                .m1g(true)
                .m1v("M1V")
                .m2("MILITARY_ID_CODE")
                .m2g(true)
                .m2v("M2V")
                .m2xv("M2XV")
                .m3a("AIRCRAFT_ID")
                .m3ag(true)
                .m3av("M3AV")
                .m3axv("M3AXV")
                .m4("ID_FRIEND")
                .m4d1d2("STATUS")
                .m4v("M4V")
                .mah("MAH")
                .mc(100.23)
                .mcg(true)
                .mcv("MCV")
                .milemrgcy(false)
                .mrgrpt(true)
                .mscommb("MSCOMMB")
                .mti(true)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origSensorId("ORIGSENSOR-ID")
                .psrrl(44.23)
                .rad("RAD")
                .rng(100.23)
                .rngdelt(44.23)
                .sac(10)
                .senalt(100.23)
                .senlat(45.23)
                .senlon(45.23)
                .sic(40)
                .spi(true)
                .ssrl(44.23)
                .addTag("TAG1")
                .addTag("TAG2")
                .tgtconf("CONFIDENCE")
                .tgtcorr("CORRELATION")
                .tgtid("TGT-ID")
                .tis(0.4)
                .trkelig("ELIGIBILITY")
                .trknum(30)
                .tti("TTI")
                .addWectc("WARNING")
                .addWectc("WARNING")
                .build()

        val roundtrippedHistoryListResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(historyListResponse),
                jacksonTypeRef<HistoryListResponse>(),
            )

        assertThat(roundtrippedHistoryListResponse).isEqualTo(historyListResponse)
    }
}
