// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.diplomaticclearance.country

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class CountryRetrieveResponseTest {

    @Test
    fun create() {
        val countryRetrieveResponse =
            CountryRetrieveResponse.builder()
                .classificationMarking("U")
                .countryCode("NL")
                .dataMode(CountryRetrieveResponse.DataMode.TEST)
                .lastChangedDate(OffsetDateTime.parse("2024-01-01T16:00:00.123Z"))
                .source("Bluestaq")
                .id("25059135-4afc-45c2-b78b-d6e843dbd96d")
                .acceptsDms(true)
                .acceptsEmail(true)
                .acceptsFax(true)
                .acceptsSiprNet(false)
                .agency("TACC")
                .altCountryCode("IZ")
                .closeTime("16:00")
                .countryId("GDSSBL010412140742262246")
                .countryName("NETHERLANDS")
                .countryRemark("Amsterdam airport EHAM will not accept hazardous cargo.")
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .addDiplomaticClearanceCountryContact(
                    CountryRetrieveResponse.DiplomaticClearanceCountryContact.builder()
                        .ahNum("256039858")
                        .ahSpdDialCode("75")
                        .commNum("904716104")
                        .commSpdDialCode("74")
                        .contactId("GDSSMC112108191329534522")
                        .contactName("John Smith")
                        .contactRemark("Contact remark")
                        .dsnNum("513827215")
                        .dsnSpdDialCode("94")
                        .faxNum("571654897")
                        .niprNum("525574441")
                        .siprNum("546144352")
                        .build()
                )
                .addDiplomaticClearanceCountryEntryExitPoint(
                    CountryRetrieveResponse.DiplomaticClearanceCountryEntryExitPoint.builder()
                        .isEntry(true)
                        .isExit(true)
                        .pointName("BATEL")
                        .build()
                )
                .addDiplomaticClearanceCountryProfile(
                    CountryRetrieveResponse.DiplomaticClearanceCountryProfile.builder()
                        .cargoPaxRemark("Cargo passenger remark")
                        .clearanceId("MDCNPER231360050AAR")
                        .crewInfoRemark("Crew info remark")
                        .defClearanceStatus("R")
                        .defEntryRemark("Default entry remark")
                        .defEntryTime("15:00")
                        .defExitRemark("Default exit remark")
                        .defExitTime("17:00")
                        .fltInfoRemark("Flight info remark")
                        .hazInfoRemark("Hazmat remark")
                        .landDefProf(true)
                        .landLeadTime(7)
                        .landLeadTimeRemark("Landing lead time remark")
                        .landLeadTimeUnit("Day")
                        .landValidPeriodMinus(0)
                        .landValidPeriodPlus(72)
                        .landValidPeriodRemark("Landing valid period remark")
                        .landValidPeriodUnit("Hour")
                        .overflyDefProf(true)
                        .overflyLeadTime(7)
                        .overflyLeadTimeRemark("Overfly remark")
                        .overflyLeadTimeUnit("Day")
                        .overflyValidPeriodMinus(0)
                        .overflyValidPeriodPlus(72)
                        .overflyValidPeriodRemark("Overfly valid period remark")
                        .overflyValidPeriodUnit("Hour")
                        .profile("Netherlands Non Haz Landing")
                        .profileAgency("USAFE")
                        .profileId("GDSSBL010412140742262247")
                        .profileRemark("Profile remark")
                        .reqAcAltName(false)
                        .reqAllHazInfo(false)
                        .reqAmcStdInfo(false)
                        .reqCargoList(false)
                        .reqCargoPax(false)
                        .reqClass1Info(false)
                        .reqClass9Info(false)
                        .reqCrewComp(false)
                        .reqCrewDetail(false)
                        .reqCrewInfo(false)
                        .reqDiv1Info(false)
                        .reqDv(false)
                        .reqEntryExitCoord(false)
                        .reqFltInfo(false)
                        .reqFltPlanRoute(false)
                        .reqFundSource(false)
                        .reqHazInfo(false)
                        .reqIcao(false)
                        .reqPassportInfo(false)
                        .reqRaven(false)
                        .reqRepChange(false)
                        .reqTailNum(false)
                        .reqWeaponsInfo(false)
                        .undefinedCrewReporting(false)
                        .build()
                )
                .existingProfile(true)
                .gmtOffset("-04:30")
                .officeName("DAO.EU")
                .officePoc("John Smith")
                .officeRemark("Diplomatic clearance office remark")
                .openFri(true)
                .openMon(true)
                .openSat(false)
                .openSun(false)
                .openThu(true)
                .openTime("07:00")
                .openTue(true)
                .openWed(true)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .sourceDl("AXE")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .build()

        assertThat(countryRetrieveResponse.classificationMarking()).isEqualTo("U")
        assertThat(countryRetrieveResponse.countryCode()).isEqualTo("NL")
        assertThat(countryRetrieveResponse.dataMode())
            .isEqualTo(CountryRetrieveResponse.DataMode.TEST)
        assertThat(countryRetrieveResponse.lastChangedDate())
            .isEqualTo(OffsetDateTime.parse("2024-01-01T16:00:00.123Z"))
        assertThat(countryRetrieveResponse.source()).isEqualTo("Bluestaq")
        assertThat(countryRetrieveResponse.id()).contains("25059135-4afc-45c2-b78b-d6e843dbd96d")
        assertThat(countryRetrieveResponse.acceptsDms()).contains(true)
        assertThat(countryRetrieveResponse.acceptsEmail()).contains(true)
        assertThat(countryRetrieveResponse.acceptsFax()).contains(true)
        assertThat(countryRetrieveResponse.acceptsSiprNet()).contains(false)
        assertThat(countryRetrieveResponse.agency()).contains("TACC")
        assertThat(countryRetrieveResponse.altCountryCode()).contains("IZ")
        assertThat(countryRetrieveResponse.closeTime()).contains("16:00")
        assertThat(countryRetrieveResponse.countryId()).contains("GDSSBL010412140742262246")
        assertThat(countryRetrieveResponse.countryName()).contains("NETHERLANDS")
        assertThat(countryRetrieveResponse.countryRemark())
            .contains("Amsterdam airport EHAM will not accept hazardous cargo.")
        assertThat(countryRetrieveResponse.createdAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(countryRetrieveResponse.createdBy()).contains("some.user")
        assertThat(countryRetrieveResponse.diplomaticClearanceCountryContacts().getOrNull())
            .containsExactly(
                CountryRetrieveResponse.DiplomaticClearanceCountryContact.builder()
                    .ahNum("256039858")
                    .ahSpdDialCode("75")
                    .commNum("904716104")
                    .commSpdDialCode("74")
                    .contactId("GDSSMC112108191329534522")
                    .contactName("John Smith")
                    .contactRemark("Contact remark")
                    .dsnNum("513827215")
                    .dsnSpdDialCode("94")
                    .faxNum("571654897")
                    .niprNum("525574441")
                    .siprNum("546144352")
                    .build()
            )
        assertThat(countryRetrieveResponse.diplomaticClearanceCountryEntryExitPoints().getOrNull())
            .containsExactly(
                CountryRetrieveResponse.DiplomaticClearanceCountryEntryExitPoint.builder()
                    .isEntry(true)
                    .isExit(true)
                    .pointName("BATEL")
                    .build()
            )
        assertThat(countryRetrieveResponse.diplomaticClearanceCountryProfiles().getOrNull())
            .containsExactly(
                CountryRetrieveResponse.DiplomaticClearanceCountryProfile.builder()
                    .cargoPaxRemark("Cargo passenger remark")
                    .clearanceId("MDCNPER231360050AAR")
                    .crewInfoRemark("Crew info remark")
                    .defClearanceStatus("R")
                    .defEntryRemark("Default entry remark")
                    .defEntryTime("15:00")
                    .defExitRemark("Default exit remark")
                    .defExitTime("17:00")
                    .fltInfoRemark("Flight info remark")
                    .hazInfoRemark("Hazmat remark")
                    .landDefProf(true)
                    .landLeadTime(7)
                    .landLeadTimeRemark("Landing lead time remark")
                    .landLeadTimeUnit("Day")
                    .landValidPeriodMinus(0)
                    .landValidPeriodPlus(72)
                    .landValidPeriodRemark("Landing valid period remark")
                    .landValidPeriodUnit("Hour")
                    .overflyDefProf(true)
                    .overflyLeadTime(7)
                    .overflyLeadTimeRemark("Overfly remark")
                    .overflyLeadTimeUnit("Day")
                    .overflyValidPeriodMinus(0)
                    .overflyValidPeriodPlus(72)
                    .overflyValidPeriodRemark("Overfly valid period remark")
                    .overflyValidPeriodUnit("Hour")
                    .profile("Netherlands Non Haz Landing")
                    .profileAgency("USAFE")
                    .profileId("GDSSBL010412140742262247")
                    .profileRemark("Profile remark")
                    .reqAcAltName(false)
                    .reqAllHazInfo(false)
                    .reqAmcStdInfo(false)
                    .reqCargoList(false)
                    .reqCargoPax(false)
                    .reqClass1Info(false)
                    .reqClass9Info(false)
                    .reqCrewComp(false)
                    .reqCrewDetail(false)
                    .reqCrewInfo(false)
                    .reqDiv1Info(false)
                    .reqDv(false)
                    .reqEntryExitCoord(false)
                    .reqFltInfo(false)
                    .reqFltPlanRoute(false)
                    .reqFundSource(false)
                    .reqHazInfo(false)
                    .reqIcao(false)
                    .reqPassportInfo(false)
                    .reqRaven(false)
                    .reqRepChange(false)
                    .reqTailNum(false)
                    .reqWeaponsInfo(false)
                    .undefinedCrewReporting(false)
                    .build()
            )
        assertThat(countryRetrieveResponse.existingProfile()).contains(true)
        assertThat(countryRetrieveResponse.gmtOffset()).contains("-04:30")
        assertThat(countryRetrieveResponse.officeName()).contains("DAO.EU")
        assertThat(countryRetrieveResponse.officePoc()).contains("John Smith")
        assertThat(countryRetrieveResponse.officeRemark())
            .contains("Diplomatic clearance office remark")
        assertThat(countryRetrieveResponse.openFri()).contains(true)
        assertThat(countryRetrieveResponse.openMon()).contains(true)
        assertThat(countryRetrieveResponse.openSat()).contains(false)
        assertThat(countryRetrieveResponse.openSun()).contains(false)
        assertThat(countryRetrieveResponse.openThu()).contains(true)
        assertThat(countryRetrieveResponse.openTime()).contains("07:00")
        assertThat(countryRetrieveResponse.openTue()).contains(true)
        assertThat(countryRetrieveResponse.openWed()).contains(true)
        assertThat(countryRetrieveResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(countryRetrieveResponse.origNetwork()).contains("OPS1")
        assertThat(countryRetrieveResponse.sourceDl()).contains("AXE")
        assertThat(countryRetrieveResponse.updatedAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(countryRetrieveResponse.updatedBy()).contains("some.user")
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val countryRetrieveResponse =
            CountryRetrieveResponse.builder()
                .classificationMarking("U")
                .countryCode("NL")
                .dataMode(CountryRetrieveResponse.DataMode.TEST)
                .lastChangedDate(OffsetDateTime.parse("2024-01-01T16:00:00.123Z"))
                .source("Bluestaq")
                .id("25059135-4afc-45c2-b78b-d6e843dbd96d")
                .acceptsDms(true)
                .acceptsEmail(true)
                .acceptsFax(true)
                .acceptsSiprNet(false)
                .agency("TACC")
                .altCountryCode("IZ")
                .closeTime("16:00")
                .countryId("GDSSBL010412140742262246")
                .countryName("NETHERLANDS")
                .countryRemark("Amsterdam airport EHAM will not accept hazardous cargo.")
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .addDiplomaticClearanceCountryContact(
                    CountryRetrieveResponse.DiplomaticClearanceCountryContact.builder()
                        .ahNum("256039858")
                        .ahSpdDialCode("75")
                        .commNum("904716104")
                        .commSpdDialCode("74")
                        .contactId("GDSSMC112108191329534522")
                        .contactName("John Smith")
                        .contactRemark("Contact remark")
                        .dsnNum("513827215")
                        .dsnSpdDialCode("94")
                        .faxNum("571654897")
                        .niprNum("525574441")
                        .siprNum("546144352")
                        .build()
                )
                .addDiplomaticClearanceCountryEntryExitPoint(
                    CountryRetrieveResponse.DiplomaticClearanceCountryEntryExitPoint.builder()
                        .isEntry(true)
                        .isExit(true)
                        .pointName("BATEL")
                        .build()
                )
                .addDiplomaticClearanceCountryProfile(
                    CountryRetrieveResponse.DiplomaticClearanceCountryProfile.builder()
                        .cargoPaxRemark("Cargo passenger remark")
                        .clearanceId("MDCNPER231360050AAR")
                        .crewInfoRemark("Crew info remark")
                        .defClearanceStatus("R")
                        .defEntryRemark("Default entry remark")
                        .defEntryTime("15:00")
                        .defExitRemark("Default exit remark")
                        .defExitTime("17:00")
                        .fltInfoRemark("Flight info remark")
                        .hazInfoRemark("Hazmat remark")
                        .landDefProf(true)
                        .landLeadTime(7)
                        .landLeadTimeRemark("Landing lead time remark")
                        .landLeadTimeUnit("Day")
                        .landValidPeriodMinus(0)
                        .landValidPeriodPlus(72)
                        .landValidPeriodRemark("Landing valid period remark")
                        .landValidPeriodUnit("Hour")
                        .overflyDefProf(true)
                        .overflyLeadTime(7)
                        .overflyLeadTimeRemark("Overfly remark")
                        .overflyLeadTimeUnit("Day")
                        .overflyValidPeriodMinus(0)
                        .overflyValidPeriodPlus(72)
                        .overflyValidPeriodRemark("Overfly valid period remark")
                        .overflyValidPeriodUnit("Hour")
                        .profile("Netherlands Non Haz Landing")
                        .profileAgency("USAFE")
                        .profileId("GDSSBL010412140742262247")
                        .profileRemark("Profile remark")
                        .reqAcAltName(false)
                        .reqAllHazInfo(false)
                        .reqAmcStdInfo(false)
                        .reqCargoList(false)
                        .reqCargoPax(false)
                        .reqClass1Info(false)
                        .reqClass9Info(false)
                        .reqCrewComp(false)
                        .reqCrewDetail(false)
                        .reqCrewInfo(false)
                        .reqDiv1Info(false)
                        .reqDv(false)
                        .reqEntryExitCoord(false)
                        .reqFltInfo(false)
                        .reqFltPlanRoute(false)
                        .reqFundSource(false)
                        .reqHazInfo(false)
                        .reqIcao(false)
                        .reqPassportInfo(false)
                        .reqRaven(false)
                        .reqRepChange(false)
                        .reqTailNum(false)
                        .reqWeaponsInfo(false)
                        .undefinedCrewReporting(false)
                        .build()
                )
                .existingProfile(true)
                .gmtOffset("-04:30")
                .officeName("DAO.EU")
                .officePoc("John Smith")
                .officeRemark("Diplomatic clearance office remark")
                .openFri(true)
                .openMon(true)
                .openSat(false)
                .openSun(false)
                .openThu(true)
                .openTime("07:00")
                .openTue(true)
                .openWed(true)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .sourceDl("AXE")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .build()

        val roundtrippedCountryRetrieveResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(countryRetrieveResponse),
                jacksonTypeRef<CountryRetrieveResponse>(),
            )

        assertThat(roundtrippedCountryRetrieveResponse).isEqualTo(countryRetrieveResponse)
    }
}
