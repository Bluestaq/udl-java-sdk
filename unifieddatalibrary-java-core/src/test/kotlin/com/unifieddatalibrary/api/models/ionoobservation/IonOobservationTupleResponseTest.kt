// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.ionoobservation

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class IonOobservationTupleResponseTest {

    @Test
    fun create() {
        val ionOobservationTupleResponse =
            IonOobservationTupleResponse.builder()
                .classificationMarking("U")
                .dataMode(IonOobservationTupleResponse.DataMode.TEST)
                .source("Bluestaq")
                .startTimeUtc(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .stationId("STATION-ID")
                .system("Example hardware type")
                .systemInfo("Example settings")
                .id("IONOOBSERVATION-ID")
                .amplitude(
                    IonOobservationTupleResponse.Amplitude.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(4)
                        .addDimension(5)
                        .notes("NOTES")
                        .build()
                )
                .antennaElementPosition(
                    IonOobservationTupleResponse.AntennaElementPosition.builder()
                        .addData(listOf(1.23, 0.123))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(3)
                        .addDimension(4)
                        .build()
                )
                .antennaElementPositionCoordinateSystem(
                    IonOobservationTupleResponse.AntennaElementPositionCoordinateSystem.J2000
                )
                .artistFlags(listOf(1, 2, 3))
                .azimuth(
                    IonOobservationTupleResponse.Azimuth.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .b0(68.07)
                .b1(1.87)
                .addCharAtt(
                    IonOobservationTupleResponse.CharAtt.builder()
                        .charName("hprimeF2")
                        .addClimateModelInputParam("ISSN1 88.1")
                        .addClimateModelInputParam("Option 2")
                        .climateModelName("IRI")
                        .addClimateModelOption("URSI-88")
                        .addClimateModelOption("No storm")
                        .d("K")
                        .lowerBound(1.26)
                        .q("T")
                        .uncertaintyBoundType("1sigma")
                        .upperBound(2.57)
                        .ursiId("04")
                        .build()
                )
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .d(1.1)
                .d1(1.94)
                .datum(
                    IonOobservationTupleResponse.Datum.builder()
                        .data(listOf(1.1, 2.1, 3.1))
                        .notes("NOTES")
                        .build()
                )
                .deltafoF2(1.1)
                .densityProfile(
                    IonOobservationTupleResponse.DensityProfile.builder()
                        .iri(
                            IonOobservationTupleResponse.DensityProfile.Iri.builder()
                                .b0(245.1)
                                .b1(3.45)
                                .chi(35.1)
                                .d1(0.0)
                                .description(
                                    "Full altitude range of 1D vertical plasma density profile for D, E, and F regions of the ionosphere provided by IRI, in which model parameters are replaced with observed ionogram-derived data where available."
                                )
                                .fp1(0.0474732023322638)
                                .fp2(-0.00112685246984002)
                                .fp30(0.00827559450035957)
                                .fp3U(0.000201178475411428)
                                .ha(50.1)
                                .hdx(85.6)
                                .hmD(81.1)
                                .hmE(99.8)
                                .hmF1(210.3)
                                .hmF2(265.42)
                                .hValTop(116.2)
                                .hz(142.7)
                                .nmD(937543116.1)
                                .nmE(154164.1)
                                .nmF1(210486.0)
                                .nmF2(313283.1)
                                .nValB(147025.1)
                                .build()
                        )
                        .parabolic(
                            IonOobservationTupleResponse.DensityProfile.Parabolic.builder()
                                .description("Best-fit algorithm in NHPC software.")
                                .addParabolicItem(
                                    IonOobservationTupleResponse.DensityProfile.Parabolic
                                        .ParabolicItem
                                        .builder()
                                        .f(3.621)
                                        .layer("E")
                                        .y(11.1)
                                        .z(110.2)
                                        .build()
                                )
                                .build()
                        )
                        .quasiParabolic(
                            IonOobservationTupleResponse.DensityProfile.QuasiParabolic.builder()
                                .description(
                                    "Array of the best-fit 3-parameter quasi-parabolas defined via A, B, C coefficients, f^2=A/r^2+B/r+C"
                                )
                                .earthRadius(6370.1)
                                .addQuasiParabolicSegment(
                                    IonOobservationTupleResponse.DensityProfile.QuasiParabolic
                                        .QuasiParabolicSegment
                                        .builder()
                                        .a(-550273940000.0)
                                        .b(169837632.0)
                                        .c(13104.63)
                                        .error(0.0016)
                                        .index(12)
                                        .rb(6460.1)
                                        .re(6480.001)
                                        .build()
                                )
                                .build()
                        )
                        .shiftedChebyshev(
                            IonOobservationTupleResponse.DensityProfile.ShiftedChebyshev.builder()
                                .description(
                                    "Best-fit Huang-Reinisch formalism based on shifted Chebyshev expansion."
                                )
                                .addShiftedChebyshev(
                                    IonOobservationTupleResponse.DensityProfile.ShiftedChebyshev
                                        .InnerShiftedChebyshev
                                        .builder()
                                        .coeffs(listOf(-11.2, -10.536, 3.357, -0.888, 0.155))
                                        .error(0.02)
                                        .fstart(0.2)
                                        .fstop(1.39)
                                        .layer("F2")
                                        .n(5)
                                        .peakheight(110.1)
                                        .zhalfNm(210.1)
                                        .build()
                                )
                                .build()
                        )
                        .topsideExtensionChapmanConst(
                            IonOobservationTupleResponse.DensityProfile.TopsideExtensionChapmanConst
                                .builder()
                                .chi(35.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .topsideExtensionVaryChap(
                            IonOobservationTupleResponse.DensityProfile.TopsideExtensionVaryChap
                                .builder()
                                .alpha(30.1)
                                .beta(30.1)
                                .chi(30.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .ht(30.1)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .addValleyModelCoeff(39.597)
                        .addValleyModelCoeff(0.1777)
                        .valleyModelDescription(
                            "2-parameter UMLCAR model with width W in km and depth D in MHz, no fitting."
                        )
                        .build()
                )
                .doppler(
                    IonOobservationTupleResponse.Doppler.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .downE(1.1)
                .downEs(1.1)
                .downF(1.1)
                .electronDensity(listOf(1.1, 2.1, 3.1))
                .electronDensityUncertainty(listOf(0.8, 0.2, 0.5))
                .elevation(
                    IonOobservationTupleResponse.Elevation.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .build()
                )
                .fbEs(34.867)
                .fe(1.23)
                .ff(0.075)
                .fhprimeF(2.5)
                .fhprimeF2(2.5)
                .fmin(2.025)
                .fminE(2.025)
                .fminEs(1.1)
                .fminF(2.7)
                .fmuf(1.1)
                .foE(1.1)
                .foEa(45.764)
                .foEp(1.1)
                .foEs(2.35)
                .foF1(8.2)
                .foF1p(1.1)
                .foF2(6.75)
                .foF2p(1.1)
                .foP(87.21)
                .frequency(
                    IonOobservationTupleResponse.Frequency.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .fxE(1.1)
                .fxF1(4.2)
                .fxF2(4.5)
                .fxI(7.525)
                .height(listOf(1.1, 2.1, 3.1))
                .hmE(215.643)
                .hmF1(230.128)
                .hmF2(240.498)
                .hprimeE(98.47)
                .hprimeEa(102.6)
                .hprimeEs(95.0)
                .hprimeF(238.5)
                .hprimeF1(230.1)
                .hprimeF2(238.5)
                .hprimefMuf(1.1)
                .hprimeP(89.45)
                .idSensor("SENSOR-ID")
                .luf(1.1)
                .md(1.1)
                .mufd(1.1)
                .neProfileName("NH")
                .neProfileVersion(4.32)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("ORIG")
                .origSensorId("ORIGSENSOR-ID")
                .phase(
                    IonOobservationTupleResponse.Phase.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .plasmaFrequency(listOf(1.1, 2.1, 3.1))
                .plasmaFrequencyUncertainty(listOf(0.8, 0.2, 0.5))
                .platformName("Millstone Hill")
                .polarization(
                    IonOobservationTupleResponse.Polarization.builder()
                        .addData(
                            listOf(
                                listOf(
                                    listOf(
                                        listOf(
                                            listOf(
                                                listOf(
                                                    IonOobservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .X,
                                                    IonOobservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .O,
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .power(
                    IonOobservationTupleResponse.Power.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .qe(0.95)
                .qf(1.83)
                .range(
                    IonOobservationTupleResponse.Range.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .addReceiveCoordinate(listOf(45.5, 179.3, 35.6))
                .addReceiveCoordinate(listOf(-80.2, -20.5, 43.2))
                .receiveSensorType(IonOobservationTupleResponse.ReceiveSensorType.MOBILE)
                .restrictedFrequency(listOf(12.5, 34.5, 45.3))
                .restrictedFrequencyNotes("Example notes")
                .scaleHeightF2Peak(35.613)
                .scalerInfo(
                    IonOobservationTupleResponse.ScalerInfo.builder()
                        .confidenceLevel(11)
                        .confidenceScore(75)
                        .name("ARTIST-4")
                        .organization("UML")
                        .type("MANUAL")
                        .version(500200.1)
                        .build()
                )
                .stokes(
                    IonOobservationTupleResponse.Stokes.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAMES1")
                        .addDimensionName("NAMES2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .addS(1.0)
                        .addS(2.0)
                        .build()
                )
                .systemNotes("Example notes")
                .tec(24.673)
                .tidAzimuth(listOf(1.1, 2.1, 3.1))
                .tidPeriods(listOf(1.1, 2.1, 3.1))
                .tidPhaseSpeeds(listOf(1.1, 2.1, 3.1))
                .time(
                    IonOobservationTupleResponse.Time.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .traceGeneric(
                    IonOobservationTupleResponse.TraceGeneric.builder()
                        .addData(listOf(listOf(1.23, 1.0903)))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .notes("NOTES")
                        .build()
                )
                .addTransmitCoordinate(listOf(45.5, 179.3, 35.6))
                .addTransmitCoordinate(listOf(-80.2, -20.5, 43.2))
                .transmitSensorType(IonOobservationTupleResponse.TransmitSensorType.MOBILE)
                .typeEs("Auroral")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .yE(1.722)
                .yF1(55.645)
                .yF2(62.178)
                .zhalfNm(240.498)
                .zmE(91.744)
                .build()

        assertThat(ionOobservationTupleResponse.classificationMarking()).isEqualTo("U")
        assertThat(ionOobservationTupleResponse.dataMode())
            .isEqualTo(IonOobservationTupleResponse.DataMode.TEST)
        assertThat(ionOobservationTupleResponse.source()).isEqualTo("Bluestaq")
        assertThat(ionOobservationTupleResponse.startTimeUtc())
            .isEqualTo(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
        assertThat(ionOobservationTupleResponse.stationId()).isEqualTo("STATION-ID")
        assertThat(ionOobservationTupleResponse.system()).isEqualTo("Example hardware type")
        assertThat(ionOobservationTupleResponse.systemInfo()).isEqualTo("Example settings")
        assertThat(ionOobservationTupleResponse.id()).contains("IONOOBSERVATION-ID")
        assertThat(ionOobservationTupleResponse.amplitude())
            .contains(
                IonOobservationTupleResponse.Amplitude.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(4)
                    .addDimension(5)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.antennaElementPosition())
            .contains(
                IonOobservationTupleResponse.AntennaElementPosition.builder()
                    .addData(listOf(1.23, 0.123))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(3)
                    .addDimension(4)
                    .build()
            )
        assertThat(ionOobservationTupleResponse.antennaElementPositionCoordinateSystem())
            .contains(IonOobservationTupleResponse.AntennaElementPositionCoordinateSystem.J2000)
        assertThat(ionOobservationTupleResponse.artistFlags().getOrNull()).containsExactly(1, 2, 3)
        assertThat(ionOobservationTupleResponse.azimuth())
            .contains(
                IonOobservationTupleResponse.Azimuth.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.b0()).contains(68.07)
        assertThat(ionOobservationTupleResponse.b1()).contains(1.87)
        assertThat(ionOobservationTupleResponse.charAtts().getOrNull())
            .containsExactly(
                IonOobservationTupleResponse.CharAtt.builder()
                    .charName("hprimeF2")
                    .addClimateModelInputParam("ISSN1 88.1")
                    .addClimateModelInputParam("Option 2")
                    .climateModelName("IRI")
                    .addClimateModelOption("URSI-88")
                    .addClimateModelOption("No storm")
                    .d("K")
                    .lowerBound(1.26)
                    .q("T")
                    .uncertaintyBoundType("1sigma")
                    .upperBound(2.57)
                    .ursiId("04")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.createdAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(ionOobservationTupleResponse.createdBy()).contains("some.user")
        assertThat(ionOobservationTupleResponse.d()).contains(1.1)
        assertThat(ionOobservationTupleResponse.d1()).contains(1.94)
        assertThat(ionOobservationTupleResponse.datum())
            .contains(
                IonOobservationTupleResponse.Datum.builder()
                    .data(listOf(1.1, 2.1, 3.1))
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.deltafoF2()).contains(1.1)
        assertThat(ionOobservationTupleResponse.densityProfile())
            .contains(
                IonOobservationTupleResponse.DensityProfile.builder()
                    .iri(
                        IonOobservationTupleResponse.DensityProfile.Iri.builder()
                            .b0(245.1)
                            .b1(3.45)
                            .chi(35.1)
                            .d1(0.0)
                            .description(
                                "Full altitude range of 1D vertical plasma density profile for D, E, and F regions of the ionosphere provided by IRI, in which model parameters are replaced with observed ionogram-derived data where available."
                            )
                            .fp1(0.0474732023322638)
                            .fp2(-0.00112685246984002)
                            .fp30(0.00827559450035957)
                            .fp3U(0.000201178475411428)
                            .ha(50.1)
                            .hdx(85.6)
                            .hmD(81.1)
                            .hmE(99.8)
                            .hmF1(210.3)
                            .hmF2(265.42)
                            .hValTop(116.2)
                            .hz(142.7)
                            .nmD(937543116.1)
                            .nmE(154164.1)
                            .nmF1(210486.0)
                            .nmF2(313283.1)
                            .nValB(147025.1)
                            .build()
                    )
                    .parabolic(
                        IonOobservationTupleResponse.DensityProfile.Parabolic.builder()
                            .description("Best-fit algorithm in NHPC software.")
                            .addParabolicItem(
                                IonOobservationTupleResponse.DensityProfile.Parabolic.ParabolicItem
                                    .builder()
                                    .f(3.621)
                                    .layer("E")
                                    .y(11.1)
                                    .z(110.2)
                                    .build()
                            )
                            .build()
                    )
                    .quasiParabolic(
                        IonOobservationTupleResponse.DensityProfile.QuasiParabolic.builder()
                            .description(
                                "Array of the best-fit 3-parameter quasi-parabolas defined via A, B, C coefficients, f^2=A/r^2+B/r+C"
                            )
                            .earthRadius(6370.1)
                            .addQuasiParabolicSegment(
                                IonOobservationTupleResponse.DensityProfile.QuasiParabolic
                                    .QuasiParabolicSegment
                                    .builder()
                                    .a(-550273940000.0)
                                    .b(169837632.0)
                                    .c(13104.63)
                                    .error(0.0016)
                                    .index(12)
                                    .rb(6460.1)
                                    .re(6480.001)
                                    .build()
                            )
                            .build()
                    )
                    .shiftedChebyshev(
                        IonOobservationTupleResponse.DensityProfile.ShiftedChebyshev.builder()
                            .description(
                                "Best-fit Huang-Reinisch formalism based on shifted Chebyshev expansion."
                            )
                            .addShiftedChebyshev(
                                IonOobservationTupleResponse.DensityProfile.ShiftedChebyshev
                                    .InnerShiftedChebyshev
                                    .builder()
                                    .coeffs(listOf(-11.2, -10.536, 3.357, -0.888, 0.155))
                                    .error(0.02)
                                    .fstart(0.2)
                                    .fstop(1.39)
                                    .layer("F2")
                                    .n(5)
                                    .peakheight(110.1)
                                    .zhalfNm(210.1)
                                    .build()
                            )
                            .build()
                    )
                    .topsideExtensionChapmanConst(
                        IonOobservationTupleResponse.DensityProfile.TopsideExtensionChapmanConst
                            .builder()
                            .chi(35.1)
                            .description(
                                "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                            )
                            .hmF2(265.42)
                            .nmF2(313283.1)
                            .scaleF2(45.191)
                            .build()
                    )
                    .topsideExtensionVaryChap(
                        IonOobservationTupleResponse.DensityProfile.TopsideExtensionVaryChap
                            .builder()
                            .alpha(30.1)
                            .beta(30.1)
                            .chi(30.1)
                            .description(
                                "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                            )
                            .hmF2(265.42)
                            .ht(30.1)
                            .nmF2(313283.1)
                            .scaleF2(45.191)
                            .build()
                    )
                    .addValleyModelCoeff(39.597)
                    .addValleyModelCoeff(0.1777)
                    .valleyModelDescription(
                        "2-parameter UMLCAR model with width W in km and depth D in MHz, no fitting."
                    )
                    .build()
            )
        assertThat(ionOobservationTupleResponse.doppler())
            .contains(
                IonOobservationTupleResponse.Doppler.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.downE()).contains(1.1)
        assertThat(ionOobservationTupleResponse.downEs()).contains(1.1)
        assertThat(ionOobservationTupleResponse.downF()).contains(1.1)
        assertThat(ionOobservationTupleResponse.electronDensity().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionOobservationTupleResponse.electronDensityUncertainty().getOrNull())
            .containsExactly(0.8, 0.2, 0.5)
        assertThat(ionOobservationTupleResponse.elevation())
            .contains(
                IonOobservationTupleResponse.Elevation.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(2)
                    .addDimension(3)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.fbEs()).contains(34.867)
        assertThat(ionOobservationTupleResponse.fe()).contains(1.23)
        assertThat(ionOobservationTupleResponse.ff()).contains(0.075)
        assertThat(ionOobservationTupleResponse.fhprimeF()).contains(2.5)
        assertThat(ionOobservationTupleResponse.fhprimeF2()).contains(2.5)
        assertThat(ionOobservationTupleResponse.fmin()).contains(2.025)
        assertThat(ionOobservationTupleResponse.fminE()).contains(2.025)
        assertThat(ionOobservationTupleResponse.fminEs()).contains(1.1)
        assertThat(ionOobservationTupleResponse.fminF()).contains(2.7)
        assertThat(ionOobservationTupleResponse.fmuf()).contains(1.1)
        assertThat(ionOobservationTupleResponse.foE()).contains(1.1)
        assertThat(ionOobservationTupleResponse.foEa()).contains(45.764)
        assertThat(ionOobservationTupleResponse.foEp()).contains(1.1)
        assertThat(ionOobservationTupleResponse.foEs()).contains(2.35)
        assertThat(ionOobservationTupleResponse.foF1()).contains(8.2)
        assertThat(ionOobservationTupleResponse.foF1p()).contains(1.1)
        assertThat(ionOobservationTupleResponse.foF2()).contains(6.75)
        assertThat(ionOobservationTupleResponse.foF2p()).contains(1.1)
        assertThat(ionOobservationTupleResponse.foP()).contains(87.21)
        assertThat(ionOobservationTupleResponse.frequency())
            .contains(
                IonOobservationTupleResponse.Frequency.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.fxE()).contains(1.1)
        assertThat(ionOobservationTupleResponse.fxF1()).contains(4.2)
        assertThat(ionOobservationTupleResponse.fxF2()).contains(4.5)
        assertThat(ionOobservationTupleResponse.fxI()).contains(7.525)
        assertThat(ionOobservationTupleResponse.height().getOrNull()).containsExactly(1.1, 2.1, 3.1)
        assertThat(ionOobservationTupleResponse.hmE()).contains(215.643)
        assertThat(ionOobservationTupleResponse.hmF1()).contains(230.128)
        assertThat(ionOobservationTupleResponse.hmF2()).contains(240.498)
        assertThat(ionOobservationTupleResponse.hprimeE()).contains(98.47)
        assertThat(ionOobservationTupleResponse.hprimeEa()).contains(102.6)
        assertThat(ionOobservationTupleResponse.hprimeEs()).contains(95.0)
        assertThat(ionOobservationTupleResponse.hprimeF()).contains(238.5)
        assertThat(ionOobservationTupleResponse.hprimeF1()).contains(230.1)
        assertThat(ionOobservationTupleResponse.hprimeF2()).contains(238.5)
        assertThat(ionOobservationTupleResponse.hprimefMuf()).contains(1.1)
        assertThat(ionOobservationTupleResponse.hprimeP()).contains(89.45)
        assertThat(ionOobservationTupleResponse.idSensor()).contains("SENSOR-ID")
        assertThat(ionOobservationTupleResponse.luf()).contains(1.1)
        assertThat(ionOobservationTupleResponse.md()).contains(1.1)
        assertThat(ionOobservationTupleResponse.mufd()).contains(1.1)
        assertThat(ionOobservationTupleResponse.neProfileName()).contains("NH")
        assertThat(ionOobservationTupleResponse.neProfileVersion()).contains(4.32)
        assertThat(ionOobservationTupleResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(ionOobservationTupleResponse.origNetwork()).contains("ORIG")
        assertThat(ionOobservationTupleResponse.origSensorId()).contains("ORIGSENSOR-ID")
        assertThat(ionOobservationTupleResponse.phase())
            .contains(
                IonOobservationTupleResponse.Phase.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.plasmaFrequency().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionOobservationTupleResponse.plasmaFrequencyUncertainty().getOrNull())
            .containsExactly(0.8, 0.2, 0.5)
        assertThat(ionOobservationTupleResponse.platformName()).contains("Millstone Hill")
        assertThat(ionOobservationTupleResponse.polarization())
            .contains(
                IonOobservationTupleResponse.Polarization.builder()
                    .addData(
                        listOf(
                            listOf(
                                listOf(
                                    listOf(
                                        listOf(
                                            listOf(
                                                IonOobservationTupleResponse.Polarization
                                                    .UnnamedSchemaWithArrayParent1
                                                    .X,
                                                IonOobservationTupleResponse.Polarization
                                                    .UnnamedSchemaWithArrayParent1
                                                    .O,
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.power())
            .contains(
                IonOobservationTupleResponse.Power.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.qe()).contains(0.95)
        assertThat(ionOobservationTupleResponse.qf()).contains(1.83)
        assertThat(ionOobservationTupleResponse.range())
            .contains(
                IonOobservationTupleResponse.Range.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.receiveCoordinates().getOrNull())
            .containsExactly(listOf(45.5, 179.3, 35.6), listOf(-80.2, -20.5, 43.2))
        assertThat(ionOobservationTupleResponse.receiveSensorType())
            .contains(IonOobservationTupleResponse.ReceiveSensorType.MOBILE)
        assertThat(ionOobservationTupleResponse.restrictedFrequency().getOrNull())
            .containsExactly(12.5, 34.5, 45.3)
        assertThat(ionOobservationTupleResponse.restrictedFrequencyNotes())
            .contains("Example notes")
        assertThat(ionOobservationTupleResponse.scaleHeightF2Peak()).contains(35.613)
        assertThat(ionOobservationTupleResponse.scalerInfo())
            .contains(
                IonOobservationTupleResponse.ScalerInfo.builder()
                    .confidenceLevel(11)
                    .confidenceScore(75)
                    .name("ARTIST-4")
                    .organization("UML")
                    .type("MANUAL")
                    .version(500200.1)
                    .build()
            )
        assertThat(ionOobservationTupleResponse.stokes())
            .contains(
                IonOobservationTupleResponse.Stokes.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAMES1")
                    .addDimensionName("NAMES2")
                    .addDimension(2)
                    .addDimension(3)
                    .notes("NOTES")
                    .addS(1.0)
                    .addS(2.0)
                    .build()
            )
        assertThat(ionOobservationTupleResponse.systemNotes()).contains("Example notes")
        assertThat(ionOobservationTupleResponse.tec()).contains(24.673)
        assertThat(ionOobservationTupleResponse.tidAzimuth().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionOobservationTupleResponse.tidPeriods().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionOobservationTupleResponse.tidPhaseSpeeds().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionOobservationTupleResponse.time())
            .contains(
                IonOobservationTupleResponse.Time.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.traceGeneric())
            .contains(
                IonOobservationTupleResponse.TraceGeneric.builder()
                    .addData(listOf(listOf(1.23, 1.0903)))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionOobservationTupleResponse.transmitCoordinates().getOrNull())
            .containsExactly(listOf(45.5, 179.3, 35.6), listOf(-80.2, -20.5, 43.2))
        assertThat(ionOobservationTupleResponse.transmitSensorType())
            .contains(IonOobservationTupleResponse.TransmitSensorType.MOBILE)
        assertThat(ionOobservationTupleResponse.typeEs()).contains("Auroral")
        assertThat(ionOobservationTupleResponse.updatedAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(ionOobservationTupleResponse.updatedBy()).contains("some.user")
        assertThat(ionOobservationTupleResponse.yE()).contains(1.722)
        assertThat(ionOobservationTupleResponse.yF1()).contains(55.645)
        assertThat(ionOobservationTupleResponse.yF2()).contains(62.178)
        assertThat(ionOobservationTupleResponse.zhalfNm()).contains(240.498)
        assertThat(ionOobservationTupleResponse.zmE()).contains(91.744)
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val ionOobservationTupleResponse =
            IonOobservationTupleResponse.builder()
                .classificationMarking("U")
                .dataMode(IonOobservationTupleResponse.DataMode.TEST)
                .source("Bluestaq")
                .startTimeUtc(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .stationId("STATION-ID")
                .system("Example hardware type")
                .systemInfo("Example settings")
                .id("IONOOBSERVATION-ID")
                .amplitude(
                    IonOobservationTupleResponse.Amplitude.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(4)
                        .addDimension(5)
                        .notes("NOTES")
                        .build()
                )
                .antennaElementPosition(
                    IonOobservationTupleResponse.AntennaElementPosition.builder()
                        .addData(listOf(1.23, 0.123))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(3)
                        .addDimension(4)
                        .build()
                )
                .antennaElementPositionCoordinateSystem(
                    IonOobservationTupleResponse.AntennaElementPositionCoordinateSystem.J2000
                )
                .artistFlags(listOf(1, 2, 3))
                .azimuth(
                    IonOobservationTupleResponse.Azimuth.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .b0(68.07)
                .b1(1.87)
                .addCharAtt(
                    IonOobservationTupleResponse.CharAtt.builder()
                        .charName("hprimeF2")
                        .addClimateModelInputParam("ISSN1 88.1")
                        .addClimateModelInputParam("Option 2")
                        .climateModelName("IRI")
                        .addClimateModelOption("URSI-88")
                        .addClimateModelOption("No storm")
                        .d("K")
                        .lowerBound(1.26)
                        .q("T")
                        .uncertaintyBoundType("1sigma")
                        .upperBound(2.57)
                        .ursiId("04")
                        .build()
                )
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .d(1.1)
                .d1(1.94)
                .datum(
                    IonOobservationTupleResponse.Datum.builder()
                        .data(listOf(1.1, 2.1, 3.1))
                        .notes("NOTES")
                        .build()
                )
                .deltafoF2(1.1)
                .densityProfile(
                    IonOobservationTupleResponse.DensityProfile.builder()
                        .iri(
                            IonOobservationTupleResponse.DensityProfile.Iri.builder()
                                .b0(245.1)
                                .b1(3.45)
                                .chi(35.1)
                                .d1(0.0)
                                .description(
                                    "Full altitude range of 1D vertical plasma density profile for D, E, and F regions of the ionosphere provided by IRI, in which model parameters are replaced with observed ionogram-derived data where available."
                                )
                                .fp1(0.0474732023322638)
                                .fp2(-0.00112685246984002)
                                .fp30(0.00827559450035957)
                                .fp3U(0.000201178475411428)
                                .ha(50.1)
                                .hdx(85.6)
                                .hmD(81.1)
                                .hmE(99.8)
                                .hmF1(210.3)
                                .hmF2(265.42)
                                .hValTop(116.2)
                                .hz(142.7)
                                .nmD(937543116.1)
                                .nmE(154164.1)
                                .nmF1(210486.0)
                                .nmF2(313283.1)
                                .nValB(147025.1)
                                .build()
                        )
                        .parabolic(
                            IonOobservationTupleResponse.DensityProfile.Parabolic.builder()
                                .description("Best-fit algorithm in NHPC software.")
                                .addParabolicItem(
                                    IonOobservationTupleResponse.DensityProfile.Parabolic
                                        .ParabolicItem
                                        .builder()
                                        .f(3.621)
                                        .layer("E")
                                        .y(11.1)
                                        .z(110.2)
                                        .build()
                                )
                                .build()
                        )
                        .quasiParabolic(
                            IonOobservationTupleResponse.DensityProfile.QuasiParabolic.builder()
                                .description(
                                    "Array of the best-fit 3-parameter quasi-parabolas defined via A, B, C coefficients, f^2=A/r^2+B/r+C"
                                )
                                .earthRadius(6370.1)
                                .addQuasiParabolicSegment(
                                    IonOobservationTupleResponse.DensityProfile.QuasiParabolic
                                        .QuasiParabolicSegment
                                        .builder()
                                        .a(-550273940000.0)
                                        .b(169837632.0)
                                        .c(13104.63)
                                        .error(0.0016)
                                        .index(12)
                                        .rb(6460.1)
                                        .re(6480.001)
                                        .build()
                                )
                                .build()
                        )
                        .shiftedChebyshev(
                            IonOobservationTupleResponse.DensityProfile.ShiftedChebyshev.builder()
                                .description(
                                    "Best-fit Huang-Reinisch formalism based on shifted Chebyshev expansion."
                                )
                                .addShiftedChebyshev(
                                    IonOobservationTupleResponse.DensityProfile.ShiftedChebyshev
                                        .InnerShiftedChebyshev
                                        .builder()
                                        .coeffs(listOf(-11.2, -10.536, 3.357, -0.888, 0.155))
                                        .error(0.02)
                                        .fstart(0.2)
                                        .fstop(1.39)
                                        .layer("F2")
                                        .n(5)
                                        .peakheight(110.1)
                                        .zhalfNm(210.1)
                                        .build()
                                )
                                .build()
                        )
                        .topsideExtensionChapmanConst(
                            IonOobservationTupleResponse.DensityProfile.TopsideExtensionChapmanConst
                                .builder()
                                .chi(35.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .topsideExtensionVaryChap(
                            IonOobservationTupleResponse.DensityProfile.TopsideExtensionVaryChap
                                .builder()
                                .alpha(30.1)
                                .beta(30.1)
                                .chi(30.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .ht(30.1)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .addValleyModelCoeff(39.597)
                        .addValleyModelCoeff(0.1777)
                        .valleyModelDescription(
                            "2-parameter UMLCAR model with width W in km and depth D in MHz, no fitting."
                        )
                        .build()
                )
                .doppler(
                    IonOobservationTupleResponse.Doppler.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .downE(1.1)
                .downEs(1.1)
                .downF(1.1)
                .electronDensity(listOf(1.1, 2.1, 3.1))
                .electronDensityUncertainty(listOf(0.8, 0.2, 0.5))
                .elevation(
                    IonOobservationTupleResponse.Elevation.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .build()
                )
                .fbEs(34.867)
                .fe(1.23)
                .ff(0.075)
                .fhprimeF(2.5)
                .fhprimeF2(2.5)
                .fmin(2.025)
                .fminE(2.025)
                .fminEs(1.1)
                .fminF(2.7)
                .fmuf(1.1)
                .foE(1.1)
                .foEa(45.764)
                .foEp(1.1)
                .foEs(2.35)
                .foF1(8.2)
                .foF1p(1.1)
                .foF2(6.75)
                .foF2p(1.1)
                .foP(87.21)
                .frequency(
                    IonOobservationTupleResponse.Frequency.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .fxE(1.1)
                .fxF1(4.2)
                .fxF2(4.5)
                .fxI(7.525)
                .height(listOf(1.1, 2.1, 3.1))
                .hmE(215.643)
                .hmF1(230.128)
                .hmF2(240.498)
                .hprimeE(98.47)
                .hprimeEa(102.6)
                .hprimeEs(95.0)
                .hprimeF(238.5)
                .hprimeF1(230.1)
                .hprimeF2(238.5)
                .hprimefMuf(1.1)
                .hprimeP(89.45)
                .idSensor("SENSOR-ID")
                .luf(1.1)
                .md(1.1)
                .mufd(1.1)
                .neProfileName("NH")
                .neProfileVersion(4.32)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("ORIG")
                .origSensorId("ORIGSENSOR-ID")
                .phase(
                    IonOobservationTupleResponse.Phase.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .plasmaFrequency(listOf(1.1, 2.1, 3.1))
                .plasmaFrequencyUncertainty(listOf(0.8, 0.2, 0.5))
                .platformName("Millstone Hill")
                .polarization(
                    IonOobservationTupleResponse.Polarization.builder()
                        .addData(
                            listOf(
                                listOf(
                                    listOf(
                                        listOf(
                                            listOf(
                                                listOf(
                                                    IonOobservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .X,
                                                    IonOobservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .O,
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .power(
                    IonOobservationTupleResponse.Power.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .qe(0.95)
                .qf(1.83)
                .range(
                    IonOobservationTupleResponse.Range.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .addReceiveCoordinate(listOf(45.5, 179.3, 35.6))
                .addReceiveCoordinate(listOf(-80.2, -20.5, 43.2))
                .receiveSensorType(IonOobservationTupleResponse.ReceiveSensorType.MOBILE)
                .restrictedFrequency(listOf(12.5, 34.5, 45.3))
                .restrictedFrequencyNotes("Example notes")
                .scaleHeightF2Peak(35.613)
                .scalerInfo(
                    IonOobservationTupleResponse.ScalerInfo.builder()
                        .confidenceLevel(11)
                        .confidenceScore(75)
                        .name("ARTIST-4")
                        .organization("UML")
                        .type("MANUAL")
                        .version(500200.1)
                        .build()
                )
                .stokes(
                    IonOobservationTupleResponse.Stokes.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAMES1")
                        .addDimensionName("NAMES2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .addS(1.0)
                        .addS(2.0)
                        .build()
                )
                .systemNotes("Example notes")
                .tec(24.673)
                .tidAzimuth(listOf(1.1, 2.1, 3.1))
                .tidPeriods(listOf(1.1, 2.1, 3.1))
                .tidPhaseSpeeds(listOf(1.1, 2.1, 3.1))
                .time(
                    IonOobservationTupleResponse.Time.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .traceGeneric(
                    IonOobservationTupleResponse.TraceGeneric.builder()
                        .addData(listOf(listOf(1.23, 1.0903)))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .notes("NOTES")
                        .build()
                )
                .addTransmitCoordinate(listOf(45.5, 179.3, 35.6))
                .addTransmitCoordinate(listOf(-80.2, -20.5, 43.2))
                .transmitSensorType(IonOobservationTupleResponse.TransmitSensorType.MOBILE)
                .typeEs("Auroral")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .yE(1.722)
                .yF1(55.645)
                .yF2(62.178)
                .zhalfNm(240.498)
                .zmE(91.744)
                .build()

        val roundtrippedIonOobservationTupleResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(ionOobservationTupleResponse),
                jacksonTypeRef<IonOobservationTupleResponse>(),
            )

        assertThat(roundtrippedIonOobservationTupleResponse).isEqualTo(ionOobservationTupleResponse)
    }
}
