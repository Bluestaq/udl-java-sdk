// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.closelyspacedobjects

import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class CloselyspacedobjectCreateParamsTest {

    @Test
    fun create() {
        CloselyspacedobjectCreateParams.builder()
            .classificationMarking("U")
            .csoState("POSSIBLE")
            .dataMode(CloselyspacedobjectCreateParams.DataMode.TEST)
            .eventStartTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .eventType("RENDEZVOUS")
            .source("Bluestaq")
            .id("026dd511-8ba5-47d3-9909-836149f87686")
            .actorSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .analysisDuration(60.1)
            .analysisEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .compType("LONGITUDE")
            .contextKeys(listOf("MsnID_DescLabel", "msnVer", "serVer"))
            .contextValues(listOf("MissionID Descriptive Label text", "1", "001.9b"))
            .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
            .createdBy("some.user")
            .addCsoDetail(
                CloselyspacedobjectCreateParams.CsoDetail.builder()
                    .objectEvent("MEAN")
                    .objectType("DELTA")
                    .id("026dd511-8ba5-47d3-9909-836149f87686")
                    .apogee(1.1)
                    .classificationMarking("U")
                    .dataMode(CloselyspacedobjectCreateParams.CsoDetail.DataMode.TEST)
                    .idCso("CSO-ID")
                    .inclination(45.1)
                    .longitude(45.1)
                    .perigee(1.1)
                    .build()
            )
            .deltaVTol(0.123)
            .durationThreshold(60.1)
            .eventEndTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .eventIntervalCoverage(22.3)
            .extId("EXTERNAL-ID")
            .hohmannDeltaV(0.012)
            .idActorSv("ACTOR-SV-ID")
            .idOnOrbit1("ONORBIT1-ID")
            .idOnOrbit2("ONORBIT2-ID")
            .idTargetSv("TARGET-SV-ID")
            .inclinationDeltaV(0.012)
            .indicationSource("Manually input")
            .lonTol(30.1)
            .maxRange(233.266)
            .minPlaneSepAngle(30.1)
            .minPlaneSepEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .minRange(0.5)
            .minRangeAnalysisDuration(60.1)
            .minRangeEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .notes("FREE-TEXT")
            .numSubIntervals(0)
            .orbitAlignDel(12.3)
            .orbitPlaneTol(1.23)
            .origin("THIRD_PARTY_DATASOURCE")
            .origNetwork("OPS1")
            .origObjectId1("ORIGONORBIT1-ID")
            .origObjectId2("ORIGONORBIT2-ID")
            .rangeThreshold(0.1)
            .rangeTol(0.123)
            .relPos(listOf(0.12, 0.23, -0.12))
            .relPosMag(0.12)
            .relSpeedMag(1.23)
            .relVel(listOf(0.12, 0.23, -0.12))
            .satNo1(1)
            .satNo2(2)
            .sourceDl("AXE")
            .stationLimLonTol(12.5)
            .targetSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
            .totalDeltaV(2.46)
            .build()
    }

    @Test
    fun body() {
        val params =
            CloselyspacedobjectCreateParams.builder()
                .classificationMarking("U")
                .csoState("POSSIBLE")
                .dataMode(CloselyspacedobjectCreateParams.DataMode.TEST)
                .eventStartTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventType("RENDEZVOUS")
                .source("Bluestaq")
                .id("026dd511-8ba5-47d3-9909-836149f87686")
                .actorSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .analysisDuration(60.1)
                .analysisEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .compType("LONGITUDE")
                .contextKeys(listOf("MsnID_DescLabel", "msnVer", "serVer"))
                .contextValues(listOf("MissionID Descriptive Label text", "1", "001.9b"))
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .addCsoDetail(
                    CloselyspacedobjectCreateParams.CsoDetail.builder()
                        .objectEvent("MEAN")
                        .objectType("DELTA")
                        .id("026dd511-8ba5-47d3-9909-836149f87686")
                        .apogee(1.1)
                        .classificationMarking("U")
                        .dataMode(CloselyspacedobjectCreateParams.CsoDetail.DataMode.TEST)
                        .idCso("CSO-ID")
                        .inclination(45.1)
                        .longitude(45.1)
                        .perigee(1.1)
                        .build()
                )
                .deltaVTol(0.123)
                .durationThreshold(60.1)
                .eventEndTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventIntervalCoverage(22.3)
                .extId("EXTERNAL-ID")
                .hohmannDeltaV(0.012)
                .idActorSv("ACTOR-SV-ID")
                .idOnOrbit1("ONORBIT1-ID")
                .idOnOrbit2("ONORBIT2-ID")
                .idTargetSv("TARGET-SV-ID")
                .inclinationDeltaV(0.012)
                .indicationSource("Manually input")
                .lonTol(30.1)
                .maxRange(233.266)
                .minPlaneSepAngle(30.1)
                .minPlaneSepEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .minRange(0.5)
                .minRangeAnalysisDuration(60.1)
                .minRangeEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .notes("FREE-TEXT")
                .numSubIntervals(0)
                .orbitAlignDel(12.3)
                .orbitPlaneTol(1.23)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origObjectId1("ORIGONORBIT1-ID")
                .origObjectId2("ORIGONORBIT2-ID")
                .rangeThreshold(0.1)
                .rangeTol(0.123)
                .relPos(listOf(0.12, 0.23, -0.12))
                .relPosMag(0.12)
                .relSpeedMag(1.23)
                .relVel(listOf(0.12, 0.23, -0.12))
                .satNo1(1)
                .satNo2(2)
                .sourceDl("AXE")
                .stationLimLonTol(12.5)
                .targetSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .totalDeltaV(2.46)
                .build()

        val body = params._body()

        assertThat(body.classificationMarking()).isEqualTo("U")
        assertThat(body.csoState()).isEqualTo("POSSIBLE")
        assertThat(body.dataMode()).isEqualTo(CloselyspacedobjectCreateParams.DataMode.TEST)
        assertThat(body.eventStartTime())
            .isEqualTo(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.eventType()).isEqualTo("RENDEZVOUS")
        assertThat(body.source()).isEqualTo("Bluestaq")
        assertThat(body.id()).contains("026dd511-8ba5-47d3-9909-836149f87686")
        assertThat(body.actorSvEpoch()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.analysisDuration()).contains(60.1)
        assertThat(body.analysisEpoch()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.compType()).contains("LONGITUDE")
        assertThat(body.contextKeys().getOrNull())
            .containsExactly("MsnID_DescLabel", "msnVer", "serVer")
        assertThat(body.contextValues().getOrNull())
            .containsExactly("MissionID Descriptive Label text", "1", "001.9b")
        assertThat(body.createdAt()).contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(body.createdBy()).contains("some.user")
        assertThat(body.csoDetails().getOrNull())
            .containsExactly(
                CloselyspacedobjectCreateParams.CsoDetail.builder()
                    .objectEvent("MEAN")
                    .objectType("DELTA")
                    .id("026dd511-8ba5-47d3-9909-836149f87686")
                    .apogee(1.1)
                    .classificationMarking("U")
                    .dataMode(CloselyspacedobjectCreateParams.CsoDetail.DataMode.TEST)
                    .idCso("CSO-ID")
                    .inclination(45.1)
                    .longitude(45.1)
                    .perigee(1.1)
                    .build()
            )
        assertThat(body.deltaVTol()).contains(0.123)
        assertThat(body.durationThreshold()).contains(60.1)
        assertThat(body.eventEndTime()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.eventIntervalCoverage()).contains(22.3)
        assertThat(body.extId()).contains("EXTERNAL-ID")
        assertThat(body.hohmannDeltaV()).contains(0.012)
        assertThat(body.idActorSv()).contains("ACTOR-SV-ID")
        assertThat(body.idOnOrbit1()).contains("ONORBIT1-ID")
        assertThat(body.idOnOrbit2()).contains("ONORBIT2-ID")
        assertThat(body.idTargetSv()).contains("TARGET-SV-ID")
        assertThat(body.inclinationDeltaV()).contains(0.012)
        assertThat(body.indicationSource()).contains("Manually input")
        assertThat(body.lonTol()).contains(30.1)
        assertThat(body.maxRange()).contains(233.266)
        assertThat(body.minPlaneSepAngle()).contains(30.1)
        assertThat(body.minPlaneSepEpoch())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.minRange()).contains(0.5)
        assertThat(body.minRangeAnalysisDuration()).contains(60.1)
        assertThat(body.minRangeEpoch()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.notes()).contains("FREE-TEXT")
        assertThat(body.numSubIntervals()).contains(0)
        assertThat(body.orbitAlignDel()).contains(12.3)
        assertThat(body.orbitPlaneTol()).contains(1.23)
        assertThat(body.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(body.origNetwork()).contains("OPS1")
        assertThat(body.origObjectId1()).contains("ORIGONORBIT1-ID")
        assertThat(body.origObjectId2()).contains("ORIGONORBIT2-ID")
        assertThat(body.rangeThreshold()).contains(0.1)
        assertThat(body.rangeTol()).contains(0.123)
        assertThat(body.relPos().getOrNull()).containsExactly(0.12, 0.23, -0.12)
        assertThat(body.relPosMag()).contains(0.12)
        assertThat(body.relSpeedMag()).contains(1.23)
        assertThat(body.relVel().getOrNull()).containsExactly(0.12, 0.23, -0.12)
        assertThat(body.satNo1()).contains(1)
        assertThat(body.satNo2()).contains(2)
        assertThat(body.sourceDl()).contains("AXE")
        assertThat(body.stationLimLonTol()).contains(12.5)
        assertThat(body.targetSvEpoch()).contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.totalDeltaV()).contains(2.46)
    }

    @Test
    fun bodyWithoutOptionalFields() {
        val params =
            CloselyspacedobjectCreateParams.builder()
                .classificationMarking("U")
                .csoState("POSSIBLE")
                .dataMode(CloselyspacedobjectCreateParams.DataMode.TEST)
                .eventStartTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventType("RENDEZVOUS")
                .source("Bluestaq")
                .build()

        val body = params._body()

        assertThat(body.classificationMarking()).isEqualTo("U")
        assertThat(body.csoState()).isEqualTo("POSSIBLE")
        assertThat(body.dataMode()).isEqualTo(CloselyspacedobjectCreateParams.DataMode.TEST)
        assertThat(body.eventStartTime())
            .isEqualTo(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(body.eventType()).isEqualTo("RENDEZVOUS")
        assertThat(body.source()).isEqualTo("Bluestaq")
    }
}
