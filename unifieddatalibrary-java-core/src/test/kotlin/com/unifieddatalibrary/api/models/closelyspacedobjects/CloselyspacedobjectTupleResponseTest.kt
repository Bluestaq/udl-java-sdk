// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.closelyspacedobjects

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class CloselyspacedobjectTupleResponseTest {

    @Test
    fun create() {
        val closelyspacedobjectTupleResponse =
            CloselyspacedobjectTupleResponse.builder()
                .classificationMarking("U")
                .csoState("POSSIBLE")
                .dataMode(CloselyspacedobjectTupleResponse.DataMode.TEST)
                .eventStartTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventType("RENDEZVOUS")
                .source("Bluestaq")
                .id("026dd511-8ba5-47d3-9909-836149f87686")
                .actorSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .analysisDuration(60.1)
                .analysisEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .compType("LONGITUDE")
                .contextKeys(listOf("MsnID_DescLabel", "msnVer", "serVer"))
                .contextValues(listOf("MissionID Descriptive Label text", "1", "001.9b"))
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .addCsoDetail(
                    CloselyspacedobjectTupleResponse.CsoDetail.builder()
                        .objectEvent("MEAN")
                        .objectType("DELTA")
                        .id("026dd511-8ba5-47d3-9909-836149f87686")
                        .apogee(1.1)
                        .classificationMarking("U")
                        .dataMode(CloselyspacedobjectTupleResponse.CsoDetail.DataMode.TEST)
                        .idCso("CSO-ID")
                        .inclination(45.1)
                        .longitude(45.1)
                        .perigee(1.1)
                        .build()
                )
                .deltaVTol(0.123)
                .durationThreshold(60.1)
                .eventEndTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventIntervalCoverage(22.3)
                .extId("EXTERNAL-ID")
                .hohmannDeltaV(0.012)
                .idActorSv("ACTOR-SV-ID")
                .idOnOrbit1("ONORBIT1-ID")
                .idOnOrbit2("ONORBIT2-ID")
                .idTargetSv("TARGET-SV-ID")
                .inclinationDeltaV(0.012)
                .indicationSource("Manually input")
                .lonTol(30.1)
                .maxRange(233.266)
                .minPlaneSepAngle(30.1)
                .minPlaneSepEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .minRange(0.5)
                .minRangeAnalysisDuration(60.1)
                .minRangeEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .notes("FREE-TEXT")
                .numSubIntervals(0)
                .orbitAlignDel(12.3)
                .orbitPlaneTol(1.23)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origObjectId1("ORIGONORBIT1-ID")
                .origObjectId2("ORIGONORBIT2-ID")
                .rangeThreshold(0.1)
                .rangeTol(0.123)
                .relPos(listOf(0.12, 0.23, -0.12))
                .relPosMag(0.12)
                .relSpeedMag(1.23)
                .relVel(listOf(0.12, 0.23, -0.12))
                .satNo1(1)
                .satNo2(2)
                .sourceDl("AXE")
                .stationLimLonTol(12.5)
                .targetSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .totalDeltaV(2.46)
                .build()

        assertThat(closelyspacedobjectTupleResponse.classificationMarking()).isEqualTo("U")
        assertThat(closelyspacedobjectTupleResponse.csoState()).isEqualTo("POSSIBLE")
        assertThat(closelyspacedobjectTupleResponse.dataMode())
            .isEqualTo(CloselyspacedobjectTupleResponse.DataMode.TEST)
        assertThat(closelyspacedobjectTupleResponse.eventStartTime())
            .isEqualTo(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.eventType()).isEqualTo("RENDEZVOUS")
        assertThat(closelyspacedobjectTupleResponse.source()).isEqualTo("Bluestaq")
        assertThat(closelyspacedobjectTupleResponse.id())
            .contains("026dd511-8ba5-47d3-9909-836149f87686")
        assertThat(closelyspacedobjectTupleResponse.actorSvEpoch())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.analysisDuration()).contains(60.1)
        assertThat(closelyspacedobjectTupleResponse.analysisEpoch())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.compType()).contains("LONGITUDE")
        assertThat(closelyspacedobjectTupleResponse.contextKeys().getOrNull())
            .containsExactly("MsnID_DescLabel", "msnVer", "serVer")
        assertThat(closelyspacedobjectTupleResponse.contextValues().getOrNull())
            .containsExactly("MissionID Descriptive Label text", "1", "001.9b")
        assertThat(closelyspacedobjectTupleResponse.createdAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(closelyspacedobjectTupleResponse.createdBy()).contains("some.user")
        assertThat(closelyspacedobjectTupleResponse.csoDetails().getOrNull())
            .containsExactly(
                CloselyspacedobjectTupleResponse.CsoDetail.builder()
                    .objectEvent("MEAN")
                    .objectType("DELTA")
                    .id("026dd511-8ba5-47d3-9909-836149f87686")
                    .apogee(1.1)
                    .classificationMarking("U")
                    .dataMode(CloselyspacedobjectTupleResponse.CsoDetail.DataMode.TEST)
                    .idCso("CSO-ID")
                    .inclination(45.1)
                    .longitude(45.1)
                    .perigee(1.1)
                    .build()
            )
        assertThat(closelyspacedobjectTupleResponse.deltaVTol()).contains(0.123)
        assertThat(closelyspacedobjectTupleResponse.durationThreshold()).contains(60.1)
        assertThat(closelyspacedobjectTupleResponse.eventEndTime())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.eventIntervalCoverage()).contains(22.3)
        assertThat(closelyspacedobjectTupleResponse.extId()).contains("EXTERNAL-ID")
        assertThat(closelyspacedobjectTupleResponse.hohmannDeltaV()).contains(0.012)
        assertThat(closelyspacedobjectTupleResponse.idActorSv()).contains("ACTOR-SV-ID")
        assertThat(closelyspacedobjectTupleResponse.idOnOrbit1()).contains("ONORBIT1-ID")
        assertThat(closelyspacedobjectTupleResponse.idOnOrbit2()).contains("ONORBIT2-ID")
        assertThat(closelyspacedobjectTupleResponse.idTargetSv()).contains("TARGET-SV-ID")
        assertThat(closelyspacedobjectTupleResponse.inclinationDeltaV()).contains(0.012)
        assertThat(closelyspacedobjectTupleResponse.indicationSource()).contains("Manually input")
        assertThat(closelyspacedobjectTupleResponse.lonTol()).contains(30.1)
        assertThat(closelyspacedobjectTupleResponse.maxRange()).contains(233.266)
        assertThat(closelyspacedobjectTupleResponse.minPlaneSepAngle()).contains(30.1)
        assertThat(closelyspacedobjectTupleResponse.minPlaneSepEpoch())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.minRange()).contains(0.5)
        assertThat(closelyspacedobjectTupleResponse.minRangeAnalysisDuration()).contains(60.1)
        assertThat(closelyspacedobjectTupleResponse.minRangeEpoch())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.notes()).contains("FREE-TEXT")
        assertThat(closelyspacedobjectTupleResponse.numSubIntervals()).contains(0)
        assertThat(closelyspacedobjectTupleResponse.orbitAlignDel()).contains(12.3)
        assertThat(closelyspacedobjectTupleResponse.orbitPlaneTol()).contains(1.23)
        assertThat(closelyspacedobjectTupleResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(closelyspacedobjectTupleResponse.origNetwork()).contains("OPS1")
        assertThat(closelyspacedobjectTupleResponse.origObjectId1()).contains("ORIGONORBIT1-ID")
        assertThat(closelyspacedobjectTupleResponse.origObjectId2()).contains("ORIGONORBIT2-ID")
        assertThat(closelyspacedobjectTupleResponse.rangeThreshold()).contains(0.1)
        assertThat(closelyspacedobjectTupleResponse.rangeTol()).contains(0.123)
        assertThat(closelyspacedobjectTupleResponse.relPos().getOrNull())
            .containsExactly(0.12, 0.23, -0.12)
        assertThat(closelyspacedobjectTupleResponse.relPosMag()).contains(0.12)
        assertThat(closelyspacedobjectTupleResponse.relSpeedMag()).contains(1.23)
        assertThat(closelyspacedobjectTupleResponse.relVel().getOrNull())
            .containsExactly(0.12, 0.23, -0.12)
        assertThat(closelyspacedobjectTupleResponse.satNo1()).contains(1)
        assertThat(closelyspacedobjectTupleResponse.satNo2()).contains(2)
        assertThat(closelyspacedobjectTupleResponse.sourceDl()).contains("AXE")
        assertThat(closelyspacedobjectTupleResponse.stationLimLonTol()).contains(12.5)
        assertThat(closelyspacedobjectTupleResponse.targetSvEpoch())
            .contains(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
        assertThat(closelyspacedobjectTupleResponse.totalDeltaV()).contains(2.46)
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val closelyspacedobjectTupleResponse =
            CloselyspacedobjectTupleResponse.builder()
                .classificationMarking("U")
                .csoState("POSSIBLE")
                .dataMode(CloselyspacedobjectTupleResponse.DataMode.TEST)
                .eventStartTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventType("RENDEZVOUS")
                .source("Bluestaq")
                .id("026dd511-8ba5-47d3-9909-836149f87686")
                .actorSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .analysisDuration(60.1)
                .analysisEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .compType("LONGITUDE")
                .contextKeys(listOf("MsnID_DescLabel", "msnVer", "serVer"))
                .contextValues(listOf("MissionID Descriptive Label text", "1", "001.9b"))
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .addCsoDetail(
                    CloselyspacedobjectTupleResponse.CsoDetail.builder()
                        .objectEvent("MEAN")
                        .objectType("DELTA")
                        .id("026dd511-8ba5-47d3-9909-836149f87686")
                        .apogee(1.1)
                        .classificationMarking("U")
                        .dataMode(CloselyspacedobjectTupleResponse.CsoDetail.DataMode.TEST)
                        .idCso("CSO-ID")
                        .inclination(45.1)
                        .longitude(45.1)
                        .perigee(1.1)
                        .build()
                )
                .deltaVTol(0.123)
                .durationThreshold(60.1)
                .eventEndTime(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .eventIntervalCoverage(22.3)
                .extId("EXTERNAL-ID")
                .hohmannDeltaV(0.012)
                .idActorSv("ACTOR-SV-ID")
                .idOnOrbit1("ONORBIT1-ID")
                .idOnOrbit2("ONORBIT2-ID")
                .idTargetSv("TARGET-SV-ID")
                .inclinationDeltaV(0.012)
                .indicationSource("Manually input")
                .lonTol(30.1)
                .maxRange(233.266)
                .minPlaneSepAngle(30.1)
                .minPlaneSepEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .minRange(0.5)
                .minRangeAnalysisDuration(60.1)
                .minRangeEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .notes("FREE-TEXT")
                .numSubIntervals(0)
                .orbitAlignDel(12.3)
                .orbitPlaneTol(1.23)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origObjectId1("ORIGONORBIT1-ID")
                .origObjectId2("ORIGONORBIT2-ID")
                .rangeThreshold(0.1)
                .rangeTol(0.123)
                .relPos(listOf(0.12, 0.23, -0.12))
                .relPosMag(0.12)
                .relSpeedMag(1.23)
                .relVel(listOf(0.12, 0.23, -0.12))
                .satNo1(1)
                .satNo2(2)
                .sourceDl("AXE")
                .stationLimLonTol(12.5)
                .targetSvEpoch(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                .totalDeltaV(2.46)
                .build()

        val roundtrippedCloselyspacedobjectTupleResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(closelyspacedobjectTupleResponse),
                jacksonTypeRef<CloselyspacedobjectTupleResponse>(),
            )

        assertThat(roundtrippedCloselyspacedobjectTupleResponse)
            .isEqualTo(closelyspacedobjectTupleResponse)
    }
}
