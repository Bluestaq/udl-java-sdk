// File generated from our OpenAPI spec by Stainless.

package com.unifieddatalibrary.api.models.ionoobservations

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.unifieddatalibrary.api.core.jsonMapper
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class IonoObservationTupleResponseTest {

    @Test
    fun create() {
        val ionoObservationTupleResponse =
            IonoObservationTupleResponse.builder()
                .classificationMarking("U")
                .dataMode(IonoObservationTupleResponse.DataMode.TEST)
                .source("Bluestaq")
                .startTimeUtc(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .stationId("STATION-ID")
                .system("Example hardware type")
                .systemInfo("Example settings")
                .id("IONOOBSERVATION-ID")
                .amplitude(
                    IonoObservationTupleResponse.Amplitude.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(4)
                        .addDimension(5)
                        .notes("NOTES")
                        .build()
                )
                .antennaElementPosition(
                    IonoObservationTupleResponse.AntennaElementPosition.builder()
                        .addData(listOf(1.23, 0.123))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(3)
                        .addDimension(4)
                        .build()
                )
                .antennaElementPositionCoordinateSystem(
                    IonoObservationTupleResponse.AntennaElementPositionCoordinateSystem.J2000
                )
                .artistFlags(listOf(1, 2, 3))
                .azimuth(
                    IonoObservationTupleResponse.Azimuth.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .b0(68.07)
                .b1(1.87)
                .addCharAtt(
                    IonoObservationTupleResponse.CharAtt.builder()
                        .charName("hprimeF2")
                        .addClimateModelInputParam("ISSN1 88.1")
                        .addClimateModelInputParam("Option 2")
                        .climateModelName("IRI")
                        .addClimateModelOption("URSI-88")
                        .addClimateModelOption("No storm")
                        .d("K")
                        .lowerBound(1.26)
                        .q("T")
                        .uncertaintyBoundType("1sigma")
                        .upperBound(2.57)
                        .ursiId("04")
                        .build()
                )
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .d(1.1)
                .d1(1.94)
                .datum(
                    IonoObservationTupleResponse.Datum.builder()
                        .data(listOf(1.1, 2.1, 3.1))
                        .notes("NOTES")
                        .build()
                )
                .deltafoF2(1.1)
                .densityProfile(
                    IonoObservationTupleResponse.DensityProfile.builder()
                        .iri(
                            IonoObservationTupleResponse.DensityProfile.Iri.builder()
                                .b0(245.1)
                                .b1(3.45)
                                .chi(35.1)
                                .d1(0.0)
                                .description(
                                    "Full altitude range of 1D vertical plasma density profile for D, E, and F regions of the ionosphere provided by IRI, in which model parameters are replaced with observed ionogram-derived data where available."
                                )
                                .fp1(0.0474732023322638)
                                .fp2(-0.00112685246984002)
                                .fp30(0.00827559450035957)
                                .fp3U(0.000201178475411428)
                                .ha(50.1)
                                .hdx(85.6)
                                .hmD(81.1)
                                .hmE(99.8)
                                .hmF1(210.3)
                                .hmF2(265.42)
                                .hValTop(116.2)
                                .hz(142.7)
                                .nmD(937543116.1)
                                .nmE(154164.1)
                                .nmF1(210486.0)
                                .nmF2(313283.1)
                                .nValB(147025.1)
                                .build()
                        )
                        .parabolic(
                            IonoObservationTupleResponse.DensityProfile.Parabolic.builder()
                                .description("Best-fit algorithm in NHPC software.")
                                .addParabolicItem(
                                    IonoObservationTupleResponse.DensityProfile.Parabolic
                                        .ParabolicItem
                                        .builder()
                                        .f(3.621)
                                        .layer("E")
                                        .y(11.1)
                                        .z(110.2)
                                        .build()
                                )
                                .build()
                        )
                        .quasiParabolic(
                            IonoObservationTupleResponse.DensityProfile.QuasiParabolic.builder()
                                .description(
                                    "Array of the best-fit 3-parameter quasi-parabolas defined via A, B, C coefficients, f^2=A/r^2+B/r+C"
                                )
                                .earthRadius(6370.1)
                                .addQuasiParabolicSegment(
                                    IonoObservationTupleResponse.DensityProfile.QuasiParabolic
                                        .QuasiParabolicSegment
                                        .builder()
                                        .a(-550273940000.0)
                                        .b(169837632.0)
                                        .c(13104.63)
                                        .error(0.0016)
                                        .index(12)
                                        .rb(6460.1)
                                        .re(6480.001)
                                        .build()
                                )
                                .build()
                        )
                        .shiftedChebyshev(
                            IonoObservationTupleResponse.DensityProfile.ShiftedChebyshev.builder()
                                .description(
                                    "Best-fit Huang-Reinisch formalism based on shifted Chebyshev expansion."
                                )
                                .addShiftedChebyshev(
                                    IonoObservationTupleResponse.DensityProfile.ShiftedChebyshev
                                        .InnerShiftedChebyshev
                                        .builder()
                                        .coeffs(listOf(-11.2, -10.536, 3.357, -0.888, 0.155))
                                        .error(0.02)
                                        .fstart(0.2)
                                        .fstop(1.39)
                                        .layer("F2")
                                        .n(5)
                                        .peakheight(110.1)
                                        .zhalfNm(210.1)
                                        .build()
                                )
                                .build()
                        )
                        .topsideExtensionChapmanConst(
                            IonoObservationTupleResponse.DensityProfile.TopsideExtensionChapmanConst
                                .builder()
                                .chi(35.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .topsideExtensionVaryChap(
                            IonoObservationTupleResponse.DensityProfile.TopsideExtensionVaryChap
                                .builder()
                                .alpha(30.1)
                                .beta(30.1)
                                .chi(30.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .ht(30.1)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .addValleyModelCoeff(39.597)
                        .addValleyModelCoeff(0.1777)
                        .valleyModelDescription(
                            "2-parameter UMLCAR model with width W in km and depth D in MHz, no fitting."
                        )
                        .build()
                )
                .doppler(
                    IonoObservationTupleResponse.Doppler.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .downE(1.1)
                .downEs(1.1)
                .downF(1.1)
                .electronDensity(listOf(1.1, 2.1, 3.1))
                .electronDensityUncertainty(listOf(0.8, 0.2, 0.5))
                .elevation(
                    IonoObservationTupleResponse.Elevation.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .build()
                )
                .fbEs(34.867)
                .fe(1.23)
                .ff(0.075)
                .fhprimeF(2.5)
                .fhprimeF2(2.5)
                .fmin(2.025)
                .fminE(2.025)
                .fminEs(1.1)
                .fminF(2.7)
                .fmuf(1.1)
                .foE(1.1)
                .foEa(45.764)
                .foEp(1.1)
                .foEs(2.35)
                .foF1(8.2)
                .foF1p(1.1)
                .foF2(6.75)
                .foF2p(1.1)
                .foP(87.21)
                .frequency(
                    IonoObservationTupleResponse.Frequency.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .fxE(1.1)
                .fxF1(4.2)
                .fxF2(4.5)
                .fxI(7.525)
                .height(listOf(1.1, 2.1, 3.1))
                .hmE(215.643)
                .hmF1(230.128)
                .hmF2(240.498)
                .hprimeE(98.47)
                .hprimeEa(102.6)
                .hprimeEs(95.0)
                .hprimeF(238.5)
                .hprimeF1(230.1)
                .hprimeF2(238.5)
                .hprimefMuf(1.1)
                .hprimeP(89.45)
                .idSensor("SENSOR-ID")
                .luf(1.1)
                .md(1.1)
                .mufd(1.1)
                .neProfileName("NH")
                .neProfileVersion(4.32)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origSensorId("ORIGSENSOR-ID")
                .phase(
                    IonoObservationTupleResponse.Phase.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .plasmaFrequency(listOf(1.1, 2.1, 3.1))
                .plasmaFrequencyUncertainty(listOf(0.8, 0.2, 0.5))
                .platformName("Millstone Hill")
                .polarization(
                    IonoObservationTupleResponse.Polarization.builder()
                        .addData(
                            listOf(
                                listOf(
                                    listOf(
                                        listOf(
                                            listOf(
                                                listOf(
                                                    IonoObservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .X,
                                                    IonoObservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .O,
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .power(
                    IonoObservationTupleResponse.Power.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .qe(0.95)
                .qf(1.83)
                .range(
                    IonoObservationTupleResponse.Range.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .addReceiveCoordinate(listOf(45.5, 179.3, 35.6))
                .addReceiveCoordinate(listOf(-80.2, -20.5, 43.2))
                .receiveSensorType(IonoObservationTupleResponse.ReceiveSensorType.MOBILE)
                .restrictedFrequency(listOf(12.5, 34.5, 45.3))
                .restrictedFrequencyNotes("Example notes")
                .scaleHeightF2Peak(35.613)
                .scalerInfo(
                    IonoObservationTupleResponse.ScalerInfo.builder()
                        .confidenceLevel(11)
                        .confidenceScore(75)
                        .name("ARTIST-4")
                        .organization("UML")
                        .type("MANUAL")
                        .version(500200.1)
                        .build()
                )
                .stokes(
                    IonoObservationTupleResponse.Stokes.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAMES1")
                        .addDimensionName("NAMES2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .addS(1.0)
                        .addS(2.0)
                        .build()
                )
                .systemNotes("Example notes")
                .tec(24.673)
                .tidAzimuth(listOf(1.1, 2.1, 3.1))
                .tidPeriods(listOf(1.1, 2.1, 3.1))
                .tidPhaseSpeeds(listOf(1.1, 2.1, 3.1))
                .time(
                    IonoObservationTupleResponse.Time.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .traceGeneric(
                    IonoObservationTupleResponse.TraceGeneric.builder()
                        .addData(listOf(listOf(1.23, 1.0903)))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .notes("NOTES")
                        .build()
                )
                .addTransmitCoordinate(listOf(45.5, 179.3, 35.6))
                .addTransmitCoordinate(listOf(-80.2, -20.5, 43.2))
                .transmitSensorType(IonoObservationTupleResponse.TransmitSensorType.MOBILE)
                .typeEs("Auroral")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .yE(1.722)
                .yF1(55.645)
                .yF2(62.178)
                .zhalfNm(240.498)
                .zmE(91.744)
                .build()

        assertThat(ionoObservationTupleResponse.classificationMarking()).isEqualTo("U")
        assertThat(ionoObservationTupleResponse.dataMode())
            .isEqualTo(IonoObservationTupleResponse.DataMode.TEST)
        assertThat(ionoObservationTupleResponse.source()).isEqualTo("Bluestaq")
        assertThat(ionoObservationTupleResponse.startTimeUtc())
            .isEqualTo(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
        assertThat(ionoObservationTupleResponse.stationId()).isEqualTo("STATION-ID")
        assertThat(ionoObservationTupleResponse.system()).isEqualTo("Example hardware type")
        assertThat(ionoObservationTupleResponse.systemInfo()).isEqualTo("Example settings")
        assertThat(ionoObservationTupleResponse.id()).contains("IONOOBSERVATION-ID")
        assertThat(ionoObservationTupleResponse.amplitude())
            .contains(
                IonoObservationTupleResponse.Amplitude.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(4)
                    .addDimension(5)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.antennaElementPosition())
            .contains(
                IonoObservationTupleResponse.AntennaElementPosition.builder()
                    .addData(listOf(1.23, 0.123))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(3)
                    .addDimension(4)
                    .build()
            )
        assertThat(ionoObservationTupleResponse.antennaElementPositionCoordinateSystem())
            .contains(IonoObservationTupleResponse.AntennaElementPositionCoordinateSystem.J2000)
        assertThat(ionoObservationTupleResponse.artistFlags().getOrNull()).containsExactly(1, 2, 3)
        assertThat(ionoObservationTupleResponse.azimuth())
            .contains(
                IonoObservationTupleResponse.Azimuth.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.b0()).contains(68.07)
        assertThat(ionoObservationTupleResponse.b1()).contains(1.87)
        assertThat(ionoObservationTupleResponse.charAtts().getOrNull())
            .containsExactly(
                IonoObservationTupleResponse.CharAtt.builder()
                    .charName("hprimeF2")
                    .addClimateModelInputParam("ISSN1 88.1")
                    .addClimateModelInputParam("Option 2")
                    .climateModelName("IRI")
                    .addClimateModelOption("URSI-88")
                    .addClimateModelOption("No storm")
                    .d("K")
                    .lowerBound(1.26)
                    .q("T")
                    .uncertaintyBoundType("1sigma")
                    .upperBound(2.57)
                    .ursiId("04")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.createdAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(ionoObservationTupleResponse.createdBy()).contains("some.user")
        assertThat(ionoObservationTupleResponse.d()).contains(1.1)
        assertThat(ionoObservationTupleResponse.d1()).contains(1.94)
        assertThat(ionoObservationTupleResponse.datum())
            .contains(
                IonoObservationTupleResponse.Datum.builder()
                    .data(listOf(1.1, 2.1, 3.1))
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.deltafoF2()).contains(1.1)
        assertThat(ionoObservationTupleResponse.densityProfile())
            .contains(
                IonoObservationTupleResponse.DensityProfile.builder()
                    .iri(
                        IonoObservationTupleResponse.DensityProfile.Iri.builder()
                            .b0(245.1)
                            .b1(3.45)
                            .chi(35.1)
                            .d1(0.0)
                            .description(
                                "Full altitude range of 1D vertical plasma density profile for D, E, and F regions of the ionosphere provided by IRI, in which model parameters are replaced with observed ionogram-derived data where available."
                            )
                            .fp1(0.0474732023322638)
                            .fp2(-0.00112685246984002)
                            .fp30(0.00827559450035957)
                            .fp3U(0.000201178475411428)
                            .ha(50.1)
                            .hdx(85.6)
                            .hmD(81.1)
                            .hmE(99.8)
                            .hmF1(210.3)
                            .hmF2(265.42)
                            .hValTop(116.2)
                            .hz(142.7)
                            .nmD(937543116.1)
                            .nmE(154164.1)
                            .nmF1(210486.0)
                            .nmF2(313283.1)
                            .nValB(147025.1)
                            .build()
                    )
                    .parabolic(
                        IonoObservationTupleResponse.DensityProfile.Parabolic.builder()
                            .description("Best-fit algorithm in NHPC software.")
                            .addParabolicItem(
                                IonoObservationTupleResponse.DensityProfile.Parabolic.ParabolicItem
                                    .builder()
                                    .f(3.621)
                                    .layer("E")
                                    .y(11.1)
                                    .z(110.2)
                                    .build()
                            )
                            .build()
                    )
                    .quasiParabolic(
                        IonoObservationTupleResponse.DensityProfile.QuasiParabolic.builder()
                            .description(
                                "Array of the best-fit 3-parameter quasi-parabolas defined via A, B, C coefficients, f^2=A/r^2+B/r+C"
                            )
                            .earthRadius(6370.1)
                            .addQuasiParabolicSegment(
                                IonoObservationTupleResponse.DensityProfile.QuasiParabolic
                                    .QuasiParabolicSegment
                                    .builder()
                                    .a(-550273940000.0)
                                    .b(169837632.0)
                                    .c(13104.63)
                                    .error(0.0016)
                                    .index(12)
                                    .rb(6460.1)
                                    .re(6480.001)
                                    .build()
                            )
                            .build()
                    )
                    .shiftedChebyshev(
                        IonoObservationTupleResponse.DensityProfile.ShiftedChebyshev.builder()
                            .description(
                                "Best-fit Huang-Reinisch formalism based on shifted Chebyshev expansion."
                            )
                            .addShiftedChebyshev(
                                IonoObservationTupleResponse.DensityProfile.ShiftedChebyshev
                                    .InnerShiftedChebyshev
                                    .builder()
                                    .coeffs(listOf(-11.2, -10.536, 3.357, -0.888, 0.155))
                                    .error(0.02)
                                    .fstart(0.2)
                                    .fstop(1.39)
                                    .layer("F2")
                                    .n(5)
                                    .peakheight(110.1)
                                    .zhalfNm(210.1)
                                    .build()
                            )
                            .build()
                    )
                    .topsideExtensionChapmanConst(
                        IonoObservationTupleResponse.DensityProfile.TopsideExtensionChapmanConst
                            .builder()
                            .chi(35.1)
                            .description(
                                "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                            )
                            .hmF2(265.42)
                            .nmF2(313283.1)
                            .scaleF2(45.191)
                            .build()
                    )
                    .topsideExtensionVaryChap(
                        IonoObservationTupleResponse.DensityProfile.TopsideExtensionVaryChap
                            .builder()
                            .alpha(30.1)
                            .beta(30.1)
                            .chi(30.1)
                            .description(
                                "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                            )
                            .hmF2(265.42)
                            .ht(30.1)
                            .nmF2(313283.1)
                            .scaleF2(45.191)
                            .build()
                    )
                    .addValleyModelCoeff(39.597)
                    .addValleyModelCoeff(0.1777)
                    .valleyModelDescription(
                        "2-parameter UMLCAR model with width W in km and depth D in MHz, no fitting."
                    )
                    .build()
            )
        assertThat(ionoObservationTupleResponse.doppler())
            .contains(
                IonoObservationTupleResponse.Doppler.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.downE()).contains(1.1)
        assertThat(ionoObservationTupleResponse.downEs()).contains(1.1)
        assertThat(ionoObservationTupleResponse.downF()).contains(1.1)
        assertThat(ionoObservationTupleResponse.electronDensity().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionoObservationTupleResponse.electronDensityUncertainty().getOrNull())
            .containsExactly(0.8, 0.2, 0.5)
        assertThat(ionoObservationTupleResponse.elevation())
            .contains(
                IonoObservationTupleResponse.Elevation.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(2)
                    .addDimension(3)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.fbEs()).contains(34.867)
        assertThat(ionoObservationTupleResponse.fe()).contains(1.23)
        assertThat(ionoObservationTupleResponse.ff()).contains(0.075)
        assertThat(ionoObservationTupleResponse.fhprimeF()).contains(2.5)
        assertThat(ionoObservationTupleResponse.fhprimeF2()).contains(2.5)
        assertThat(ionoObservationTupleResponse.fmin()).contains(2.025)
        assertThat(ionoObservationTupleResponse.fminE()).contains(2.025)
        assertThat(ionoObservationTupleResponse.fminEs()).contains(1.1)
        assertThat(ionoObservationTupleResponse.fminF()).contains(2.7)
        assertThat(ionoObservationTupleResponse.fmuf()).contains(1.1)
        assertThat(ionoObservationTupleResponse.foE()).contains(1.1)
        assertThat(ionoObservationTupleResponse.foEa()).contains(45.764)
        assertThat(ionoObservationTupleResponse.foEp()).contains(1.1)
        assertThat(ionoObservationTupleResponse.foEs()).contains(2.35)
        assertThat(ionoObservationTupleResponse.foF1()).contains(8.2)
        assertThat(ionoObservationTupleResponse.foF1p()).contains(1.1)
        assertThat(ionoObservationTupleResponse.foF2()).contains(6.75)
        assertThat(ionoObservationTupleResponse.foF2p()).contains(1.1)
        assertThat(ionoObservationTupleResponse.foP()).contains(87.21)
        assertThat(ionoObservationTupleResponse.frequency())
            .contains(
                IonoObservationTupleResponse.Frequency.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.fxE()).contains(1.1)
        assertThat(ionoObservationTupleResponse.fxF1()).contains(4.2)
        assertThat(ionoObservationTupleResponse.fxF2()).contains(4.5)
        assertThat(ionoObservationTupleResponse.fxI()).contains(7.525)
        assertThat(ionoObservationTupleResponse.height().getOrNull()).containsExactly(1.1, 2.1, 3.1)
        assertThat(ionoObservationTupleResponse.hmE()).contains(215.643)
        assertThat(ionoObservationTupleResponse.hmF1()).contains(230.128)
        assertThat(ionoObservationTupleResponse.hmF2()).contains(240.498)
        assertThat(ionoObservationTupleResponse.hprimeE()).contains(98.47)
        assertThat(ionoObservationTupleResponse.hprimeEa()).contains(102.6)
        assertThat(ionoObservationTupleResponse.hprimeEs()).contains(95.0)
        assertThat(ionoObservationTupleResponse.hprimeF()).contains(238.5)
        assertThat(ionoObservationTupleResponse.hprimeF1()).contains(230.1)
        assertThat(ionoObservationTupleResponse.hprimeF2()).contains(238.5)
        assertThat(ionoObservationTupleResponse.hprimefMuf()).contains(1.1)
        assertThat(ionoObservationTupleResponse.hprimeP()).contains(89.45)
        assertThat(ionoObservationTupleResponse.idSensor()).contains("SENSOR-ID")
        assertThat(ionoObservationTupleResponse.luf()).contains(1.1)
        assertThat(ionoObservationTupleResponse.md()).contains(1.1)
        assertThat(ionoObservationTupleResponse.mufd()).contains(1.1)
        assertThat(ionoObservationTupleResponse.neProfileName()).contains("NH")
        assertThat(ionoObservationTupleResponse.neProfileVersion()).contains(4.32)
        assertThat(ionoObservationTupleResponse.origin()).contains("THIRD_PARTY_DATASOURCE")
        assertThat(ionoObservationTupleResponse.origNetwork()).contains("OPS1")
        assertThat(ionoObservationTupleResponse.origSensorId()).contains("ORIGSENSOR-ID")
        assertThat(ionoObservationTupleResponse.phase())
            .contains(
                IonoObservationTupleResponse.Phase.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.plasmaFrequency().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionoObservationTupleResponse.plasmaFrequencyUncertainty().getOrNull())
            .containsExactly(0.8, 0.2, 0.5)
        assertThat(ionoObservationTupleResponse.platformName()).contains("Millstone Hill")
        assertThat(ionoObservationTupleResponse.polarization())
            .contains(
                IonoObservationTupleResponse.Polarization.builder()
                    .addData(
                        listOf(
                            listOf(
                                listOf(
                                    listOf(
                                        listOf(
                                            listOf(
                                                IonoObservationTupleResponse.Polarization
                                                    .UnnamedSchemaWithArrayParent1
                                                    .X,
                                                IonoObservationTupleResponse.Polarization
                                                    .UnnamedSchemaWithArrayParent1
                                                    .O,
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.power())
            .contains(
                IonoObservationTupleResponse.Power.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.qe()).contains(0.95)
        assertThat(ionoObservationTupleResponse.qf()).contains(1.83)
        assertThat(ionoObservationTupleResponse.range())
            .contains(
                IonoObservationTupleResponse.Range.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.receiveCoordinates().getOrNull())
            .containsExactly(listOf(45.5, 179.3, 35.6), listOf(-80.2, -20.5, 43.2))
        assertThat(ionoObservationTupleResponse.receiveSensorType())
            .contains(IonoObservationTupleResponse.ReceiveSensorType.MOBILE)
        assertThat(ionoObservationTupleResponse.restrictedFrequency().getOrNull())
            .containsExactly(12.5, 34.5, 45.3)
        assertThat(ionoObservationTupleResponse.restrictedFrequencyNotes())
            .contains("Example notes")
        assertThat(ionoObservationTupleResponse.scaleHeightF2Peak()).contains(35.613)
        assertThat(ionoObservationTupleResponse.scalerInfo())
            .contains(
                IonoObservationTupleResponse.ScalerInfo.builder()
                    .confidenceLevel(11)
                    .confidenceScore(75)
                    .name("ARTIST-4")
                    .organization("UML")
                    .type("MANUAL")
                    .version(500200.1)
                    .build()
            )
        assertThat(ionoObservationTupleResponse.stokes())
            .contains(
                IonoObservationTupleResponse.Stokes.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAMES1")
                    .addDimensionName("NAMES2")
                    .addDimension(2)
                    .addDimension(3)
                    .notes("NOTES")
                    .addS(1.0)
                    .addS(2.0)
                    .build()
            )
        assertThat(ionoObservationTupleResponse.systemNotes()).contains("Example notes")
        assertThat(ionoObservationTupleResponse.tec()).contains(24.673)
        assertThat(ionoObservationTupleResponse.tidAzimuth().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionoObservationTupleResponse.tidPeriods().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionoObservationTupleResponse.tidPhaseSpeeds().getOrNull())
            .containsExactly(1.1, 2.1, 3.1)
        assertThat(ionoObservationTupleResponse.time())
            .contains(
                IonoObservationTupleResponse.Time.builder()
                    .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .addDimension(1)
                    .addDimension(2)
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.traceGeneric())
            .contains(
                IonoObservationTupleResponse.TraceGeneric.builder()
                    .addData(listOf(listOf(1.23, 1.0903)))
                    .addDimensionName("NAME1")
                    .addDimensionName("NAME2")
                    .notes("NOTES")
                    .build()
            )
        assertThat(ionoObservationTupleResponse.transmitCoordinates().getOrNull())
            .containsExactly(listOf(45.5, 179.3, 35.6), listOf(-80.2, -20.5, 43.2))
        assertThat(ionoObservationTupleResponse.transmitSensorType())
            .contains(IonoObservationTupleResponse.TransmitSensorType.MOBILE)
        assertThat(ionoObservationTupleResponse.typeEs()).contains("Auroral")
        assertThat(ionoObservationTupleResponse.updatedAt())
            .contains(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
        assertThat(ionoObservationTupleResponse.updatedBy()).contains("some.user")
        assertThat(ionoObservationTupleResponse.yE()).contains(1.722)
        assertThat(ionoObservationTupleResponse.yF1()).contains(55.645)
        assertThat(ionoObservationTupleResponse.yF2()).contains(62.178)
        assertThat(ionoObservationTupleResponse.zhalfNm()).contains(240.498)
        assertThat(ionoObservationTupleResponse.zmE()).contains(91.744)
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val ionoObservationTupleResponse =
            IonoObservationTupleResponse.builder()
                .classificationMarking("U")
                .dataMode(IonoObservationTupleResponse.DataMode.TEST)
                .source("Bluestaq")
                .startTimeUtc(OffsetDateTime.parse("2021-01-01T01:01:01.123456Z"))
                .stationId("STATION-ID")
                .system("Example hardware type")
                .systemInfo("Example settings")
                .id("IONOOBSERVATION-ID")
                .amplitude(
                    IonoObservationTupleResponse.Amplitude.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(4)
                        .addDimension(5)
                        .notes("NOTES")
                        .build()
                )
                .antennaElementPosition(
                    IonoObservationTupleResponse.AntennaElementPosition.builder()
                        .addData(listOf(1.23, 0.123))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(3)
                        .addDimension(4)
                        .build()
                )
                .antennaElementPositionCoordinateSystem(
                    IonoObservationTupleResponse.AntennaElementPositionCoordinateSystem.J2000
                )
                .artistFlags(listOf(1, 2, 3))
                .azimuth(
                    IonoObservationTupleResponse.Azimuth.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .b0(68.07)
                .b1(1.87)
                .addCharAtt(
                    IonoObservationTupleResponse.CharAtt.builder()
                        .charName("hprimeF2")
                        .addClimateModelInputParam("ISSN1 88.1")
                        .addClimateModelInputParam("Option 2")
                        .climateModelName("IRI")
                        .addClimateModelOption("URSI-88")
                        .addClimateModelOption("No storm")
                        .d("K")
                        .lowerBound(1.26)
                        .q("T")
                        .uncertaintyBoundType("1sigma")
                        .upperBound(2.57)
                        .ursiId("04")
                        .build()
                )
                .createdAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .createdBy("some.user")
                .d(1.1)
                .d1(1.94)
                .datum(
                    IonoObservationTupleResponse.Datum.builder()
                        .data(listOf(1.1, 2.1, 3.1))
                        .notes("NOTES")
                        .build()
                )
                .deltafoF2(1.1)
                .densityProfile(
                    IonoObservationTupleResponse.DensityProfile.builder()
                        .iri(
                            IonoObservationTupleResponse.DensityProfile.Iri.builder()
                                .b0(245.1)
                                .b1(3.45)
                                .chi(35.1)
                                .d1(0.0)
                                .description(
                                    "Full altitude range of 1D vertical plasma density profile for D, E, and F regions of the ionosphere provided by IRI, in which model parameters are replaced with observed ionogram-derived data where available."
                                )
                                .fp1(0.0474732023322638)
                                .fp2(-0.00112685246984002)
                                .fp30(0.00827559450035957)
                                .fp3U(0.000201178475411428)
                                .ha(50.1)
                                .hdx(85.6)
                                .hmD(81.1)
                                .hmE(99.8)
                                .hmF1(210.3)
                                .hmF2(265.42)
                                .hValTop(116.2)
                                .hz(142.7)
                                .nmD(937543116.1)
                                .nmE(154164.1)
                                .nmF1(210486.0)
                                .nmF2(313283.1)
                                .nValB(147025.1)
                                .build()
                        )
                        .parabolic(
                            IonoObservationTupleResponse.DensityProfile.Parabolic.builder()
                                .description("Best-fit algorithm in NHPC software.")
                                .addParabolicItem(
                                    IonoObservationTupleResponse.DensityProfile.Parabolic
                                        .ParabolicItem
                                        .builder()
                                        .f(3.621)
                                        .layer("E")
                                        .y(11.1)
                                        .z(110.2)
                                        .build()
                                )
                                .build()
                        )
                        .quasiParabolic(
                            IonoObservationTupleResponse.DensityProfile.QuasiParabolic.builder()
                                .description(
                                    "Array of the best-fit 3-parameter quasi-parabolas defined via A, B, C coefficients, f^2=A/r^2+B/r+C"
                                )
                                .earthRadius(6370.1)
                                .addQuasiParabolicSegment(
                                    IonoObservationTupleResponse.DensityProfile.QuasiParabolic
                                        .QuasiParabolicSegment
                                        .builder()
                                        .a(-550273940000.0)
                                        .b(169837632.0)
                                        .c(13104.63)
                                        .error(0.0016)
                                        .index(12)
                                        .rb(6460.1)
                                        .re(6480.001)
                                        .build()
                                )
                                .build()
                        )
                        .shiftedChebyshev(
                            IonoObservationTupleResponse.DensityProfile.ShiftedChebyshev.builder()
                                .description(
                                    "Best-fit Huang-Reinisch formalism based on shifted Chebyshev expansion."
                                )
                                .addShiftedChebyshev(
                                    IonoObservationTupleResponse.DensityProfile.ShiftedChebyshev
                                        .InnerShiftedChebyshev
                                        .builder()
                                        .coeffs(listOf(-11.2, -10.536, 3.357, -0.888, 0.155))
                                        .error(0.02)
                                        .fstart(0.2)
                                        .fstop(1.39)
                                        .layer("F2")
                                        .n(5)
                                        .peakheight(110.1)
                                        .zhalfNm(210.1)
                                        .build()
                                )
                                .build()
                        )
                        .topsideExtensionChapmanConst(
                            IonoObservationTupleResponse.DensityProfile.TopsideExtensionChapmanConst
                                .builder()
                                .chi(35.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .topsideExtensionVaryChap(
                            IonoObservationTupleResponse.DensityProfile.TopsideExtensionVaryChap
                                .builder()
                                .alpha(30.1)
                                .beta(30.1)
                                .chi(30.1)
                                .description(
                                    "Constant scale height Chapman topside layer determined using bottomside peak density parameters and placed chi km above the ionosonde-determined peak height."
                                )
                                .hmF2(265.42)
                                .ht(30.1)
                                .nmF2(313283.1)
                                .scaleF2(45.191)
                                .build()
                        )
                        .addValleyModelCoeff(39.597)
                        .addValleyModelCoeff(0.1777)
                        .valleyModelDescription(
                            "2-parameter UMLCAR model with width W in km and depth D in MHz, no fitting."
                        )
                        .build()
                )
                .doppler(
                    IonoObservationTupleResponse.Doppler.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .downE(1.1)
                .downEs(1.1)
                .downF(1.1)
                .electronDensity(listOf(1.1, 2.1, 3.1))
                .electronDensityUncertainty(listOf(0.8, 0.2, 0.5))
                .elevation(
                    IonoObservationTupleResponse.Elevation.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .build()
                )
                .fbEs(34.867)
                .fe(1.23)
                .ff(0.075)
                .fhprimeF(2.5)
                .fhprimeF2(2.5)
                .fmin(2.025)
                .fminE(2.025)
                .fminEs(1.1)
                .fminF(2.7)
                .fmuf(1.1)
                .foE(1.1)
                .foEa(45.764)
                .foEp(1.1)
                .foEs(2.35)
                .foF1(8.2)
                .foF1p(1.1)
                .foF2(6.75)
                .foF2p(1.1)
                .foP(87.21)
                .frequency(
                    IonoObservationTupleResponse.Frequency.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .fxE(1.1)
                .fxF1(4.2)
                .fxF2(4.5)
                .fxI(7.525)
                .height(listOf(1.1, 2.1, 3.1))
                .hmE(215.643)
                .hmF1(230.128)
                .hmF2(240.498)
                .hprimeE(98.47)
                .hprimeEa(102.6)
                .hprimeEs(95.0)
                .hprimeF(238.5)
                .hprimeF1(230.1)
                .hprimeF2(238.5)
                .hprimefMuf(1.1)
                .hprimeP(89.45)
                .idSensor("SENSOR-ID")
                .luf(1.1)
                .md(1.1)
                .mufd(1.1)
                .neProfileName("NH")
                .neProfileVersion(4.32)
                .origin("THIRD_PARTY_DATASOURCE")
                .origNetwork("OPS1")
                .origSensorId("ORIGSENSOR-ID")
                .phase(
                    IonoObservationTupleResponse.Phase.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .plasmaFrequency(listOf(1.1, 2.1, 3.1))
                .plasmaFrequencyUncertainty(listOf(0.8, 0.2, 0.5))
                .platformName("Millstone Hill")
                .polarization(
                    IonoObservationTupleResponse.Polarization.builder()
                        .addData(
                            listOf(
                                listOf(
                                    listOf(
                                        listOf(
                                            listOf(
                                                listOf(
                                                    IonoObservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .X,
                                                    IonoObservationTupleResponse.Polarization
                                                        .UnnamedSchemaWithArrayParent1
                                                        .O,
                                                )
                                            )
                                        )
                                    )
                                )
                            )
                        )
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .power(
                    IonoObservationTupleResponse.Power.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .qe(0.95)
                .qf(1.83)
                .range(
                    IonoObservationTupleResponse.Range.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .addReceiveCoordinate(listOf(45.5, 179.3, 35.6))
                .addReceiveCoordinate(listOf(-80.2, -20.5, 43.2))
                .receiveSensorType(IonoObservationTupleResponse.ReceiveSensorType.MOBILE)
                .restrictedFrequency(listOf(12.5, 34.5, 45.3))
                .restrictedFrequencyNotes("Example notes")
                .scaleHeightF2Peak(35.613)
                .scalerInfo(
                    IonoObservationTupleResponse.ScalerInfo.builder()
                        .confidenceLevel(11)
                        .confidenceScore(75)
                        .name("ARTIST-4")
                        .organization("UML")
                        .type("MANUAL")
                        .version(500200.1)
                        .build()
                )
                .stokes(
                    IonoObservationTupleResponse.Stokes.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAMES1")
                        .addDimensionName("NAMES2")
                        .addDimension(2)
                        .addDimension(3)
                        .notes("NOTES")
                        .addS(1.0)
                        .addS(2.0)
                        .build()
                )
                .systemNotes("Example notes")
                .tec(24.673)
                .tidAzimuth(listOf(1.1, 2.1, 3.1))
                .tidPeriods(listOf(1.1, 2.1, 3.1))
                .tidPhaseSpeeds(listOf(1.1, 2.1, 3.1))
                .time(
                    IonoObservationTupleResponse.Time.builder()
                        .addData(listOf(listOf(listOf(listOf(listOf(listOf(0.02, 0.034)))))))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .addDimension(1)
                        .addDimension(2)
                        .notes("NOTES")
                        .build()
                )
                .traceGeneric(
                    IonoObservationTupleResponse.TraceGeneric.builder()
                        .addData(listOf(listOf(1.23, 1.0903)))
                        .addDimensionName("NAME1")
                        .addDimensionName("NAME2")
                        .notes("NOTES")
                        .build()
                )
                .addTransmitCoordinate(listOf(45.5, 179.3, 35.6))
                .addTransmitCoordinate(listOf(-80.2, -20.5, 43.2))
                .transmitSensorType(IonoObservationTupleResponse.TransmitSensorType.MOBILE)
                .typeEs("Auroral")
                .updatedAt(OffsetDateTime.parse("2018-01-01T16:00:00.123Z"))
                .updatedBy("some.user")
                .yE(1.722)
                .yF1(55.645)
                .yF2(62.178)
                .zhalfNm(240.498)
                .zmE(91.744)
                .build()

        val roundtrippedIonoObservationTupleResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(ionoObservationTupleResponse),
                jacksonTypeRef<IonoObservationTupleResponse>(),
            )

        assertThat(roundtrippedIonoObservationTupleResponse).isEqualTo(ionoObservationTupleResponse)
    }
}
